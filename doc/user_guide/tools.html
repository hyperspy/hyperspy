<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.14: http://docutils.sourceforge.net/" />
<title>Tools: the Signal class</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7952 2016-07-26 18:15:59Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

.subscript {
  vertical-align: sub;
  font-size: smaller }

.superscript {
  vertical-align: super;
  font-size: smaller }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left, table.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right, table.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

table.align-center {
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

.align-top    {
  vertical-align: top }

.align-middle {
  vertical-align: middle }

.align-bottom {
  vertical-align: bottom }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
<style type="text/css">

/*
*   math2html: convert LaTeX equations to HTML output.
*
*   Copyright (C) 2009,2010 Alex Fernández
*
*   Released under the terms of the `2-Clause BSD license'_, in short:
*   Copying and distribution of this file, with or without modification,
*   are permitted in any medium without royalty provided the copyright
*   notice and this notice are preserved.
*   This file is offered as-is, without any warranty.
*
* .. _2-Clause BSD license: http://www.spdx.org/licenses/BSD-2-Clause
*
*   Based on eLyXer: convert LyX source files to HTML output.
*   http://elyxer.nongnu.org/
*/
/* --end--
* CSS file for LaTeX formulas.
*/

/* Formulas */
.formula {
	text-align: center;
	font-family: "Droid Serif", "DejaVu Serif", "STIX", serif;
	margin: 1.2em 0;
}
span.formula {
	white-space: nowrap;
}
div.formula {
	padding: 0.5ex;
	margin-left: auto;
	margin-right: auto;
}

/* Basic features */
a.eqnumber {
	display: inline-block;
	float: right;
	clear: right;
	font-weight: bold;
}
span.unknown {
	color: #800000;
}
span.ignored, span.arraydef {
	display: none;
}
.formula i {
	letter-spacing: 0.1ex;
}

/* Alignment */
.align-left, .align-l {
	text-align: left;
}
.align-right, .align-r {
	text-align: right;
}
.align-center, .align-c {
	text-align: center;
}

/* Structures */
span.overline, span.bar {
	text-decoration: overline;
}
.fraction, .fullfraction {
	display: inline-block;
	vertical-align: middle;
	text-align: center;
}
.fraction .fraction {
	font-size: 80%;
	line-height: 100%;
}
span.numerator {
	display: block;
}
span.denominator {
	display: block;
	padding: 0ex;
	border-top: thin solid;
}
sup.numerator, sup.unit {
	font-size: 70%;
	vertical-align: 80%;
}
sub.denominator, sub.unit {
	font-size: 70%;
	vertical-align: -20%;
}
span.sqrt {
	display: inline-block;
	vertical-align: middle;
	padding: 0.1ex;
}
sup.root {
	font-size: 70%;
	position: relative;
	left: 1.4ex;
}
span.radical {
	display: inline-block;
	padding: 0ex;
	font-size: 150%;
	vertical-align: top;
}
span.root {
	display: inline-block;
	border-top: thin solid;
	padding: 0ex;
	vertical-align: middle;
}
span.symbol {
	line-height: 125%;
	font-size: 125%;
}
span.bigsymbol {
	line-height: 150%;
	font-size: 150%;
}
span.largesymbol {
	font-size: 175%;
}
span.hugesymbol {
	font-size: 200%;
}
span.scripts {
	display: inline-table;
	vertical-align: middle;
}
.script {
	display: table-row;
	text-align: left;
	line-height: 150%;
}
span.limits {
	display: inline-table;
	vertical-align: middle;
}
.limit {
	display: table-row;
	line-height: 99%;
}
sup.limit, sub.limit {
	line-height: 100%;
}
span.symbolover {
	display: inline-block;
	text-align: center;
	position: relative;
	float: right;
	right: 100%;
	bottom: 0.5em;
	width: 0px;
}
span.withsymbol {
	display: inline-block;
}
span.symbolunder {
	display: inline-block;
	text-align: center;
	position: relative;
	float: right;
	right: 80%;
	top: 0.3em;
	width: 0px;
}

/* Environments */
span.array, span.bracketcases, span.binomial, span.environment {
	display: inline-table;
	text-align: center;
	border-collapse: collapse;
	margin: 0em;
	vertical-align: middle;
}
span.arrayrow, span.binomrow {
	display: table-row;
	padding: 0ex;
	border: 0ex;
}
span.arraycell, span.bracket, span.case, span.binomcell, span.environmentcell {
	display: table-cell;
	padding: 0ex 0.2ex;
	line-height: 99%;
	border: 0ex;
}
/*
* CSS file for LaTeX formulas, extra stuff:
* binomials, vertical braces, stackrel, fonts and colors.
*/

/* Inline binomials */
span.binom {
	display: inline-block;
	vertical-align: middle;
	text-align: center;
	font-size: 80%;
}
span.binomstack {
	display: block;
	padding: 0em;
}

/* Over- and underbraces */
span.overbrace {
	border-top: 2pt solid;
}
span.underbrace {
	border-bottom: 2pt solid;
}

/* Stackrel */
span.stackrel {
	display: inline-block;
	text-align: center;
}
span.upstackrel {
	display: block;
	padding: 0em;
	font-size: 80%;
	line-height: 64%;
	position: relative;
	top: 0.15em;

}
span.downstackrel {
	display: block;
	vertical-align: bottom;
	padding: 0em;
}

/* Fonts */
span.mathsf, span.textsf {
	font-style: normal;
	font-family: sans-serif;
}
span.mathrm, span.textrm {
	font-style: normal;
	font-family: serif;
}
span.text, span.textnormal {
	font-style: normal;
}
span.textipa {
	color: #008080;
}
span.fraktur {
	font-family: "Lucida Blackletter", eufm10, blackletter;
}
span.blackboard {
	font-family: Blackboard, msbm10, serif;
}
span.scriptfont {
	font-family: "Monotype Corsiva", "Apple Chancery", "URW Chancery L", cursive;
	font-style: italic;
}

/* Colors */
span.colorbox {
	display: inline-block;
	padding: 5px;
}
span.fbox {
	display: inline-block;
	border: thin solid black;
	padding: 2px;
}
span.boxed, span.framebox {
	display: inline-block;
	border: thin solid black;
	padding: 5px;
}


</style>
</head>
<body>
<div class="document" id="tools-the-signal-class">
<h1 class="title">Tools: the Signal class</h1>

<div class="section" id="the-signal-class-and-its-subclasses">
<h1>The Signal class and its subclasses</h1>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This subsection can be a bit confusing for beginners.
Do not worry if you do not understand it all.</p>
</div>
<p>HyperSpy stores the data in the <a href="#id1"><span class="problematic" id="id2">:py:class:`~.signal.BaseSignal`</span></a> class, that is
the object that you get when e.g. you load a single file using
<a href="#id3"><span class="problematic" id="id4">:py:func:`~.io.load`</span></a>. Most of the data analysis functions are also contained in
this class or its specialized subclasses. The <a href="#id5"><span class="problematic" id="id6">:py:class:`~.signal.BaseSignal`</span></a>
class contains general functionality that is available to all the subclasses.
The subclasses provide functionality that is normally specific to a particular
type of data, e.g. the <a href="#id7"><span class="problematic" id="id8">:py:class:`~._signals.signal1d.Signal1D`</span></a> class provides
common functionality to deal with one-dimensional (e.g. spectral) data and
<a href="#id9"><span class="problematic" id="id10">:py:class:`~._signals.eels.EELSSpectrum`</span></a> (which is a subclass of
<a href="#id11"><span class="problematic" id="id12">:py:class:`~._signals.signal1d.Signal1D`</span></a>) adds extra functionality to the
<a href="#id13"><span class="problematic" id="id14">:py:class:`~._signals.signal1d.Signal1D`</span></a> class for electron energy-loss
spectroscopy data analysis.</p>
<div class="system-message" id="id1">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 13); <em><a href="#id2">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<div class="system-message" id="id3">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 13); <em><a href="#id4">backlink</a></em></p>
Unknown interpreted text role &quot;py:func&quot;.</div>
<div class="system-message" id="id5">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 13); <em><a href="#id6">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<div class="system-message" id="id7">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 13); <em><a href="#id8">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<div class="system-message" id="id9">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 13); <em><a href="#id10">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<div class="system-message" id="id11">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 13); <em><a href="#id12">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<div class="system-message" id="id13">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 13); <em><a href="#id14">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<p>The <a href="#id15"><span class="problematic" id="id16">:ref:`table below &lt;signal_subclasses_table-label&gt;`</span></a> summarises all the
currently available specialised <a href="#id17"><span class="problematic" id="id18">:py:class:`~.signal.BaseSignal`</span></a> subclasses.</p>
<div class="system-message" id="id15">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 26); <em><a href="#id16">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
<div class="system-message" id="id17">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 26); <em><a href="#id18">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 29)</p>
<p>Unknown directive type &quot;versionchanged&quot;.</p>
<pre class="literal-block">
.. versionchanged:: 1.0

    The :py:class:`~._signals.signal1d.Signal1D`,
    :py:class:`~._signals.signal2d.Signal2D` and :py:class:`~.signal.BaseSignal`
    classes deprecated the old `Spectrum` `Image` and `Signal` classes.

</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 35)</p>
<p>Unknown directive type &quot;versionadded&quot;.</p>
<pre class="literal-block">
.. versionadded:: 1.0

    New :py:class:`~._signals.complex_signal.ComplexSignal`,
    :py:class:`~._signals.complex_signal1d.ComplexSignal1D` and
    :py:class:`~._signals.complex_signal2d.Complex2D`
    :py:class:`~.signal.BaseSignal` subclasses specialised in complex data.



</pre>
</div>
<p>The <a href="#id19"><span class="problematic" id="id20">:py:mod:`~.signals`</span></a> module, which contains all available signal subclasses,
is imported in the user namespace when loading HyperSpy. In the following
example we create a Signal2D instance from a 2D numpy array:</p>
<div class="system-message" id="id19">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 44); <em><a href="#id20">backlink</a></em></p>
Unknown interpreted text role &quot;py:mod&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">im</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal2D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">random</span><span class="operator">.</span><span class="name">random</span><span class="punctuation">((</span><span class="literal number integer">64</span><span class="punctuation">,</span><span class="literal number integer">64</span><span class="punctuation">)))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">im</span>
<span class="operator">&lt;</span><span class="name">Signal2D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">64</span><span class="punctuation">,</span> <span class="literal number integer">64</span><span class="punctuation">)</span><span class="operator">&gt;</span>
</pre>
<p>The different signals store other objects in what are called attributes. For
examples, the data is stored in a numpy array in the
<a href="#id21"><span class="problematic" id="id22">:py:attr:`~.signal.BaseSignal.data`</span></a> attribute, the original parameters in the
<a href="#id23"><span class="problematic" id="id24">:py:attr:`~.signal.BaseSignal.original_metadata`</span></a> attribute, the mapped parameters
in the <a href="#id25"><span class="problematic" id="id26">:py:attr:`~.signal.BaseSignal.metadata`</span></a> attribute and the axes
information (including calibration) can be accessed (and modified) in the
<a href="#id27"><span class="problematic" id="id28">:py:class:`~.axes.AxesManager`</span></a> attribute.</p>
<div class="system-message" id="id21">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 55); <em><a href="#id22">backlink</a></em></p>
Unknown interpreted text role &quot;py:attr&quot;.</div>
<div class="system-message" id="id23">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 55); <em><a href="#id24">backlink</a></em></p>
Unknown interpreted text role &quot;py:attr&quot;.</div>
<div class="system-message" id="id25">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 55); <em><a href="#id26">backlink</a></em></p>
Unknown interpreted text role &quot;py:attr&quot;.</div>
<div class="system-message" id="id27">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 55); <em><a href="#id28">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
</div>
<div class="section" id="signal-initialization">
<h1>Signal initialization</h1>
<p>Many of the values in the <a href="#id29"><span class="problematic" id="id30">:py:class:`~.axes.AxesManager`</span></a> can be
set when making the <a href="#id31"><span class="problematic" id="id32">:py:class:`~.signal.BaseSignal`</span></a> object.</p>
<div class="system-message" id="id29">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 66); <em><a href="#id30">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<div class="system-message" id="id31">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 66); <em><a href="#id32">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">dict0</span> <span class="operator">=</span> <span class="punctuation">{</span><span class="literal string single">'size'</span><span class="punctuation">:</span> <span class="literal number integer">10</span><span class="punctuation">,</span> <span class="literal string single">'name'</span><span class="punctuation">:</span><span class="literal string single">'Axis0'</span><span class="punctuation">,</span> <span class="literal string single">'units'</span><span class="punctuation">:</span><span class="literal string single">'A'</span><span class="punctuation">,</span> <span class="literal string single">'scale'</span><span class="punctuation">:</span><span class="literal number float">0.2</span><span class="punctuation">,</span> <span class="literal string single">'offset'</span><span class="punctuation">:</span><span class="literal number integer">1</span><span class="punctuation">}</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">BaseSignal</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">random</span><span class="operator">.</span><span class="name">random</span><span class="punctuation">((</span><span class="literal number integer">10</span><span class="punctuation">,</span><span class="literal number integer">20</span><span class="punctuation">)),</span> <span class="name">axes</span><span class="operator">=</span><span class="punctuation">[</span><span class="name">dict0</span><span class="punctuation">,</span> <span class="name">dict1</span><span class="punctuation">])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">axes_manager</span>
<span class="operator">&lt;</span><span class="name">Axes</span> <span class="name">manager</span><span class="punctuation">,</span> <span class="name">axes</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">20</span><span class="punctuation">,</span> <span class="literal number integer">10</span><span class="punctuation">)</span><span class="operator">&gt;</span>
            <span class="name">Name</span> <span class="operator">|</span>   <span class="name">size</span> <span class="operator">|</span>  <span class="name">index</span> <span class="operator">|</span>  <span class="name">offset</span> <span class="operator">|</span>   <span class="name">scale</span> <span class="operator">|</span>  <span class="name">units</span>
<span class="operator">================</span> <span class="operator">|</span> <span class="operator">======</span> <span class="operator">|</span> <span class="operator">======</span> <span class="operator">|</span> <span class="operator">=======</span> <span class="operator">|</span> <span class="operator">=======</span> <span class="operator">|</span> <span class="operator">======</span>
<span class="operator">----------------</span> <span class="operator">|</span> <span class="operator">------</span> <span class="operator">|</span> <span class="operator">------</span> <span class="operator">|</span> <span class="operator">-------</span> <span class="operator">|</span> <span class="operator">-------</span> <span class="operator">|</span> <span class="operator">------</span>
           <span class="name">Axis1</span> <span class="operator">|</span>     <span class="literal number integer">20</span> <span class="operator">|</span>        <span class="operator">|</span>       <span class="literal number integer">2</span> <span class="operator">|</span>     <span class="literal number float">0.1</span> <span class="operator">|</span>      <span class="name">B</span>
           <span class="name">Axis0</span> <span class="operator">|</span>     <span class="literal number integer">10</span> <span class="operator">|</span>        <span class="operator">|</span>       <span class="literal number integer">1</span> <span class="operator">|</span>     <span class="literal number float">0.2</span> <span class="operator">|</span>      <span class="name">A</span>
</pre>
<p>This also applies to the <a href="#id33"><span class="problematic" id="id34">:py:attr:`~.signal.BaseSignal.metadata`</span></a>.</p>
<div class="system-message" id="id33">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 81); <em><a href="#id34">backlink</a></em></p>
Unknown interpreted text role &quot;py:attr&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">metadata_dict</span> <span class="operator">=</span> <span class="punctuation">{</span><span class="literal string single">'General'</span><span class="punctuation">:{</span><span class="literal string single">'name'</span><span class="punctuation">:</span><span class="literal string single">'A BaseSignal'</span><span class="punctuation">}}</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">metadata_dict</span><span class="punctuation">[</span><span class="literal string single">'General'</span><span class="punctuation">][</span><span class="literal string single">'title'</span><span class="punctuation">]</span> <span class="operator">=</span> <span class="literal string single">'A BaseSignal title'</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">BaseSignal</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">arange</span><span class="punctuation">(</span><span class="literal number integer">10</span><span class="punctuation">),</span> <span class="name">metadata</span><span class="operator">=</span><span class="name">metadata_dict</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">metadata</span>
<span class="error">├──</span> <span class="name">General</span>
<span class="error">│</span>   <span class="error">├──</span> <span class="name">name</span> <span class="operator">=</span> <span class="name">A</span> <span class="name">BaseSignal</span>
<span class="error">│</span>   <span class="error">└──</span> <span class="name">title</span> <span class="operator">=</span> <span class="name">A</span> <span class="name">BaseSignal</span> <span class="name">title</span>
<span class="error">└──</span> <span class="name">Signal</span>
    <span class="error">├──</span> <span class="name">binned</span> <span class="operator">=</span> <span class="name builtin pseudo">False</span>
    <span class="error">└──</span> <span class="name">signal_type</span> <span class="operator">=</span>
</pre>
</div>
<div class="section" id="the-navigation-and-signal-dimensions">
<h1>The navigation and signal dimensions</h1>
<p>HyperSpy can deal with data of arbitrary dimensions. Each dimension is
internally classified as either &quot;navigation&quot; or &quot;signal&quot; and the way this
classification is done determines the behaviour of the signal.</p>
<p>The concept is probably best understood with an example: let's imagine a three
dimensional dataset e.g. a numpy array with dimensions <cite>(10, 20, 30)</cite>. This
dataset could be an spectrum image acquired by scanning over a sample in two
dimensions. As in this case the signal is one-dimensional we use a
<a href="#id35"><span class="problematic" id="id36">:py:class:`~._signals.signal1d.Signal1D`</span></a> subclass for this data e.g.:</p>
<div class="system-message" id="id35">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 104); <em><a href="#id36">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal1D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">random</span><span class="operator">.</span><span class="name">random</span><span class="punctuation">((</span><span class="literal number integer">10</span><span class="punctuation">,</span> <span class="literal number integer">20</span><span class="punctuation">,</span> <span class="literal number integer">30</span><span class="punctuation">)))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span>
<span class="operator">&lt;</span><span class="name">Signal1D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">20</span><span class="punctuation">,</span> <span class="literal number integer">10</span><span class="operator">|</span><span class="literal number integer">30</span><span class="punctuation">)</span><span class="operator">&gt;</span>
</pre>
<p>In HyperSpy's terminology, the <em>signal dimension</em> of this dataset is 30 and
the navigation dimensions (20, 10). Notice the separator <cite>|</cite> between the
navigation and signal dimensions.</p>
<p>However, the same dataset could also be interpreted as an image
stack instead.  Actually it could has been acquired by capturing two
dimensional images at different wavelengths. Then it would be natural to
identify the two spatial dimensions as the signal dimensions and the wavelength
dimension as the navigation dimension. To view the data in this way we could
have used a <a href="#id37"><span class="problematic" id="id38">:py:class:`~._signals.signal2d.Signal2D`</span></a> instead e.g.:</p>
<div class="system-message" id="id37">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 121); <em><a href="#id38">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">im</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal2D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">random</span><span class="operator">.</span><span class="name">random</span><span class="punctuation">((</span><span class="literal number integer">10</span><span class="punctuation">,</span> <span class="literal number integer">20</span><span class="punctuation">,</span> <span class="literal number integer">30</span><span class="punctuation">)))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">im</span>
<span class="operator">&lt;</span><span class="name">Signal2D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">10</span><span class="operator">|</span><span class="literal number integer">30</span><span class="punctuation">,</span> <span class="literal number integer">20</span><span class="punctuation">)</span><span class="operator">&gt;</span>
</pre>
<p>Indeed, for data analysis purposes,
one may like to operate with an image stack as if it was a set of spectra or
viceversa. One can easily switch between these two alternative ways of
classifiying the dimensions of a three-dimensional dataset by
<a href="#id39"><span class="problematic" id="id40">:ref:`transforming between BaseSignal subclasses
&lt;transforming.signal&gt;`</span></a>.</p>
<div class="system-message" id="id39">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 134); <em><a href="#id40">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
<p>The same dataset could be seen as a three-dimensional signal:</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">td</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">BaseSignal</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">random</span><span class="operator">.</span><span class="name">random</span><span class="punctuation">((</span><span class="literal number integer">10</span><span class="punctuation">,</span> <span class="literal number integer">20</span><span class="punctuation">,</span> <span class="literal number integer">30</span><span class="punctuation">)))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">td</span>
<span class="operator">&lt;</span><span class="name">BaseSignal</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">30</span><span class="punctuation">,</span> <span class="literal number integer">20</span><span class="punctuation">,</span> <span class="literal number integer">10</span><span class="punctuation">)</span><span class="operator">&gt;</span>
</pre>
<p>Notice that with use <a href="#id41"><span class="problematic" id="id42">:py:class:`~.signal.BaseSignal`</span></a> because there is
no specialised subclass for three-dimensional data. Also note that by default
<a href="#id43"><span class="problematic" id="id44">:py:class:`~.signal.BaseSignal`</span></a> interprets all dimensions as signal dimensions.
We could also configure it to operate on the dataset as a three-dimensional
array of scalars by changing the default <em>view</em> of
<a href="#id45"><span class="problematic" id="id46">:py:class:`~.signal.BaseSignal`</span></a> by taking the transpose of it:</p>
<div class="system-message" id="id41">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 149); <em><a href="#id42">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<div class="system-message" id="id43">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 149); <em><a href="#id44">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<div class="system-message" id="id45">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 149); <em><a href="#id46">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">scalar</span> <span class="operator">=</span> <span class="name">td</span><span class="operator">.</span><span class="name">T</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">scalar</span>
<span class="operator">&lt;</span><span class="name">BaseSignal</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">30</span><span class="punctuation">,</span> <span class="literal number integer">20</span><span class="punctuation">,</span> <span class="literal number integer">10</span><span class="operator">|</span><span class="punctuation">)</span><span class="operator">&gt;</span>
</pre>
<p>For more examples of manipulating signal axes in the &quot;signal-navigation&quot; space
can be found in <a href="#id47"><span class="problematic" id="id48">:ref:`signal.transpose`</span></a>.</p>
<div class="system-message" id="id47">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 162); <em><a href="#id48">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Although each dimension can be arbitrarily classified as &quot;navigation
dimension&quot; or &quot;signal dimension&quot;, for most common tasks there is no need to
modify HyperSpy's default choice.</p>
</div>
<div class="section" id="transforming-between-signal-subclasses">
<span id="transforming-signal"></span><h2>Transforming between signal subclasses</h2>
<p>The different subclasses are characterized by the <cite>signal_type</cite> metadata attribute,
the data <cite>dtype</cite> and the signal dimension. See the table and diagram below.
<cite>signal_type</cite> describes the nature of the signal. It can be any string, normally the
acronym associated with a particular signal. In certain cases HyperSpy provides
features that are only available for a particular signal type through
<a href="#id49"><span class="problematic" id="id50">:py:class:`~.signal.BaseSignal`</span></a> subclasses. The <a href="#id51"><span class="problematic" id="id52">:py:class:`~.signal.BaseSignal`</span></a> method
<a href="#id53"><span class="problematic" id="id54">:py:meth:`~.signal.BaseSignal.set_signal_type`</span></a> changes the signal_type in place, which
may result in a <a href="#id55"><span class="problematic" id="id56">:py:class:`~.signal.BaseSignal`</span></a> subclass transformation.</p>
<div class="system-message" id="id49">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 178); <em><a href="#id50">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<div class="system-message" id="id51">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 178); <em><a href="#id52">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<div class="system-message" id="id53">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 178); <em><a href="#id54">backlink</a></em></p>
Unknown interpreted text role &quot;py:meth&quot;.</div>
<div class="system-message" id="id55">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 178); <em><a href="#id56">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<p>Furthermore, the <cite>dtype</cite> of the signal data also affects the subclass assignment. There are
e.g. specialised signal subclasses to handle complex data (see the following diagram).</p>
<div class="figure align-center">
<img alt="images/HyperSpySignalOverview.png" src="images/HyperSpySignalOverview.png" style="width: 500px;" />
<p class="caption">Diagram showing the inheritance structure of the different subclasses</p>
</div>
<table border="1" class="docutils" id="signal-subclasses-table-label">
<caption>BaseSignal subclass <a href="#id57"><span class="problematic" id="id58">:py:attr:`~.signal.BaseSignal.metadata`</span></a> attributes.</caption>
<colgroup>
<col width="59%" />
<col width="15%" />
<col width="19%" />
<col width="8%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">BaseSignal subclass</th>
<th class="head">signal_dimension</th>
<th class="head">signal_type</th>
<th class="head">dtype</th>
</tr>
</thead>
<tbody valign="top">
<tr><td><p class="first"><a href="#id59"><span class="problematic" id="id60">:py:class:`~.signal.BaseSignal`</span></a></p>
<div class="last system-message" id="id59">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 207); <em><a href="#id60">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>real</td>
</tr>
<tr><td><p class="first"><a href="#id61"><span class="problematic" id="id62">:py:class:`~._signals.signal1d.Signal1D`</span></a></p>
<div class="last system-message" id="id61">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 209); <em><a href="#id62">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
</td>
<td>1</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>real</td>
</tr>
<tr><td><p class="first"><a href="#id63"><span class="problematic" id="id64">:py:class:`~._signals.eels.EELSSpectrum`</span></a></p>
<div class="last system-message" id="id63">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 211); <em><a href="#id64">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
</td>
<td>1</td>
<td>EELS</td>
<td>real</td>
</tr>
<tr><td><p class="first"><a href="#id65"><span class="problematic" id="id66">:py:class:`~._signals.eds_sem.EDSSEMSpectrum`</span></a></p>
<div class="last system-message" id="id65">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 213); <em><a href="#id66">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
</td>
<td>1</td>
<td>EDS_SEM</td>
<td>real</td>
</tr>
<tr><td><p class="first"><a href="#id67"><span class="problematic" id="id68">:py:class:`~._signals.eds_tem.EDSTEM`</span></a></p>
<div class="last system-message" id="id67">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 215); <em><a href="#id68">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
</td>
<td>1</td>
<td>EDS_TEM</td>
<td>real</td>
</tr>
<tr><td><p class="first"><a href="#id69"><span class="problematic" id="id70">:py:class:`~._signals.signal2d.Signal2D`</span></a></p>
<div class="last system-message" id="id69">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 217); <em><a href="#id70">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
</td>
<td>2</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>real</td>
</tr>
<tr><td><p class="first"><a href="#id71"><span class="problematic" id="id72">:py:class:`~._signals.hologram_image.HologramImage`</span></a></p>
<div class="last system-message" id="id71">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 219); <em><a href="#id72">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
</td>
<td>2</td>
<td>hologram</td>
<td>real</td>
</tr>
<tr><td><p class="first"><a href="#id73"><span class="problematic" id="id74">:py:class:`~._signals.dielectric_function.DielectricFunction`</span></a></p>
<div class="last system-message" id="id73">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 221); <em><a href="#id74">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
</td>
<td>1</td>
<td>DielectricFunction</td>
<td>complex</td>
</tr>
<tr><td><p class="first"><a href="#id75"><span class="problematic" id="id76">:py:class:`~._signals.complex_signal.ComplexSignal`</span></a></p>
<div class="last system-message" id="id75">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 223); <em><a href="#id76">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>complex</td>
</tr>
<tr><td><p class="first"><a href="#id77"><span class="problematic" id="id78">:py:class:`~._signals.complex_signal1d.ComplexSignal1D`</span></a></p>
<div class="last system-message" id="id77">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 225); <em><a href="#id78">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
</td>
<td>1</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>complex</td>
</tr>
<tr><td><p class="first"><a href="#id79"><span class="problematic" id="id80">:py:class:`~._signals.complex_signal2d.Complex2D`</span></a></p>
<div class="last system-message" id="id79">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 227); <em><a href="#id80">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
</td>
<td>2</td>
<td><ul class="first last simple">
<li></li>
</ul>
</td>
<td>complex</td>
</tr>
</tbody>
</table>
<div class="system-message" id="id57">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 201); <em><a href="#id58">backlink</a></em></p>
Unknown interpreted text role &quot;py:attr&quot;.</div>
<p>The following example shows how to transform between different subclasses.</p>
<blockquote>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal1D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">random</span><span class="operator">.</span><span class="name">random</span><span class="punctuation">((</span><span class="literal number integer">10</span><span class="punctuation">,</span><span class="literal number integer">20</span><span class="punctuation">,</span><span class="literal number integer">100</span><span class="punctuation">)))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span>
<span class="operator">&lt;</span><span class="name">Signal1D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">20</span><span class="punctuation">,</span> <span class="literal number integer">10</span><span class="operator">|</span><span class="literal number integer">100</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">metadata</span>
<span class="error">├──</span> <span class="name">signal_type</span> <span class="operator">=</span>
<span class="error">└──</span> <span class="name">title</span> <span class="operator">=</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">im</span> <span class="operator">=</span> <span class="name">s</span><span class="operator">.</span><span class="name">to_signal2D</span><span class="punctuation">()</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">im</span>
<span class="operator">&lt;</span><span class="name">Signal2D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">100</span><span class="operator">|</span><span class="literal number integer">20</span><span class="punctuation">,</span> <span class="literal number integer">10</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">im</span><span class="operator">.</span><span class="name">metadata</span>
<span class="error">├──</span> <span class="name">signal_type</span> <span class="operator">=</span>
<span class="error">└──</span> <span class="name">title</span> <span class="operator">=</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">set_signal_type</span><span class="punctuation">(</span><span class="literal string double">&quot;EELS&quot;</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span>
<span class="operator">&lt;</span><span class="name">EELSSpectrum</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">20</span><span class="punctuation">,</span> <span class="literal number integer">10</span><span class="operator">|</span><span class="literal number integer">100</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">change_dtype</span><span class="punctuation">(</span><span class="literal string double">&quot;complex&quot;</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span>
<span class="operator">&lt;</span><span class="name">ComplexSignal1D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">20</span><span class="punctuation">,</span> <span class="literal number integer">10</span><span class="operator">|</span><span class="literal number integer">100</span><span class="punctuation">)</span><span class="operator">&gt;</span>
</pre>
</blockquote>
</div>
</div>
<div class="section" id="binned-and-unbinned-signals">
<span id="signal-binned"></span><h1>Binned and unbinned signals</h1>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 261)</p>
<p>Unknown directive type &quot;versionadded&quot;.</p>
<pre class="literal-block">
.. versionadded:: 0.7

</pre>
</div>
<p>Signals that are a histogram of a probability density function (pdf) should
have the <tt class="docutils literal">signal.metadata.Signal.binned</tt> attribute set to
<tt class="docutils literal">True</tt>. This is because some methods operate differently in signals that are
<em>binned</em>.</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 268)</p>
<p>Unknown directive type &quot;versionchanged&quot;.</p>
<pre class="literal-block">
.. versionchanged:: 1.0 ``Simulation``, ``SpectrumSimulation`` and ``ImageSimulation``
   classes removed.

</pre>
</div>
<p>The default value of the <tt class="docutils literal">binned</tt> attribute is shown in the
following table:</p>
<table border="1" class="docutils">
<caption>Binned default values for the different subclasses.</caption>
<colgroup>
<col width="89%" />
<col width="11%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">BaseSignal subclass</th>
<th class="head">binned</th>
</tr>
</thead>
<tbody valign="top">
<tr><td><p class="first"><a href="#id81"><span class="problematic" id="id82">:py:class:`~.signal.BaseSignal`</span></a></p>
<div class="last system-message" id="id81">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 281); <em><a href="#id82">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
</td>
<td>False</td>
</tr>
<tr><td><p class="first"><a href="#id83"><span class="problematic" id="id84">:py:class:`~._signals.signal1d.Signal1D`</span></a></p>
<div class="last system-message" id="id83">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 283); <em><a href="#id84">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
</td>
<td>False</td>
</tr>
<tr><td><p class="first"><a href="#id85"><span class="problematic" id="id86">:py:class:`~._signals.eels.EELSSpectrum`</span></a></p>
<div class="last system-message" id="id85">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 285); <em><a href="#id86">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
</td>
<td>True</td>
</tr>
<tr><td><p class="first"><a href="#id87"><span class="problematic" id="id88">:py:class:`~._signals.eds_sem.EDSSEMSpectrum`</span></a></p>
<div class="last system-message" id="id87">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 287); <em><a href="#id88">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
</td>
<td>True</td>
</tr>
<tr><td><p class="first"><a href="#id89"><span class="problematic" id="id90">:py:class:`~._signals.eds_tem.EDSTEM`</span></a></p>
<div class="last system-message" id="id89">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 289); <em><a href="#id90">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
</td>
<td>True</td>
</tr>
<tr><td><p class="first"><a href="#id91"><span class="problematic" id="id92">:py:class:`~._signals.signal2d.Signal2D`</span></a></p>
<div class="last system-message" id="id91">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 291); <em><a href="#id92">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
</td>
<td>False</td>
</tr>
<tr><td><p class="first"><a href="#id93"><span class="problematic" id="id94">:py:class:`~._signals.complex_signal.ComplexSignal`</span></a></p>
<div class="last system-message" id="id93">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 293); <em><a href="#id94">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
</td>
<td>False</td>
</tr>
<tr><td><p class="first"><a href="#id95"><span class="problematic" id="id96">:py:class:`~._signals.complex_signal1d.ComplexSignal1D`</span></a></p>
<div class="last system-message" id="id95">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 295); <em><a href="#id96">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
</td>
<td>False</td>
</tr>
<tr><td><p class="first"><a href="#id97"><span class="problematic" id="id98">:py:class:`~._signals.complex_signal2d.Complex2Dmixin`</span></a></p>
<div class="last system-message" id="id97">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 297); <em><a href="#id98">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
</td>
<td>False</td>
</tr>
</tbody>
</table>
<p>To change the default value:</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">metadata</span><span class="operator">.</span><span class="name">Signal</span><span class="operator">.</span><span class="name">binned</span> <span class="operator">=</span> <span class="name builtin pseudo">True</span>
</pre>
</div>
<div class="section" id="generic-tools">
<h1>Generic tools</h1>
<p>Below we briefly introduce some of the most commonly used tools (methods). For
more details about a particular method click on its name. For a detailed list
of all the methods available see the <a href="#id99"><span class="problematic" id="id100">:py:class:`~.signal.BaseSignal`</span></a> documentation.</p>
<div class="system-message" id="id99">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 312); <em><a href="#id100">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<p>The methods of this section are available to all the signals. In other chapters
methods that are only available in specialized
subclasses.</p>
<div class="section" id="mathematical-operations">
<h2>Mathematical operations</h2>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 323)</p>
<p>Unknown directive type &quot;versionchanged&quot;.</p>
<pre class="literal-block">
.. versionchanged:: 1.0

</pre>
</div>
<p>A number of mathematical operations are available
in <a href="#id101"><span class="problematic" id="id102">:py:class:`~.signal.BaseSignal`</span></a>. Most of them are just wrapped numpy
functions.</p>
<div class="system-message" id="id101">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 325); <em><a href="#id102">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<p>The methods that perform mathematical operation over one or more axis at a
time are:</p>
<ul>
<li><p class="first"><a href="#id103"><span class="problematic" id="id104">:py:meth:`~.signal.BaseSignal.sum`</span></a></p>
<div class="system-message" id="id103">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 332); <em><a href="#id104">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:meth&quot;.</p>
</div>
</li>
<li><p class="first"><a href="#id105"><span class="problematic" id="id106">:py:meth:`~.signal.BaseSignal.max`</span></a></p>
<div class="system-message" id="id105">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 333); <em><a href="#id106">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:meth&quot;.</p>
</div>
</li>
<li><p class="first"><a href="#id107"><span class="problematic" id="id108">:py:meth:`~.signal.BaseSignal.min`</span></a></p>
<div class="system-message" id="id107">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 334); <em><a href="#id108">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:meth&quot;.</p>
</div>
</li>
<li><p class="first"><a href="#id109"><span class="problematic" id="id110">:py:meth:`~.signal.BaseSignal.mean`</span></a></p>
<div class="system-message" id="id109">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 335); <em><a href="#id110">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:meth&quot;.</p>
</div>
</li>
<li><p class="first"><a href="#id111"><span class="problematic" id="id112">:py:meth:`~.signal.BaseSignal.std`</span></a></p>
<div class="system-message" id="id111">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 336); <em><a href="#id112">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:meth&quot;.</p>
</div>
</li>
<li><p class="first"><a href="#id113"><span class="problematic" id="id114">:py:meth:`~.signal.BaseSignal.var`</span></a></p>
<div class="system-message" id="id113">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 337); <em><a href="#id114">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:meth&quot;.</p>
</div>
</li>
<li><p class="first"><a href="#id115"><span class="problematic" id="id116">:py:meth:`~.signal.BaseSignal.nansum`</span></a></p>
<div class="system-message" id="id115">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 338); <em><a href="#id116">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:meth&quot;.</p>
</div>
</li>
<li><p class="first"><a href="#id117"><span class="problematic" id="id118">:py:meth:`~.signal.BaseSignal.nanmax`</span></a></p>
<div class="system-message" id="id117">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 339); <em><a href="#id118">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:meth&quot;.</p>
</div>
</li>
<li><p class="first"><a href="#id119"><span class="problematic" id="id120">:py:meth:`~.signal.BaseSignal.nanmin`</span></a></p>
<div class="system-message" id="id119">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 340); <em><a href="#id120">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:meth&quot;.</p>
</div>
</li>
<li><p class="first"><a href="#id121"><span class="problematic" id="id122">:py:meth:`~.signal.BaseSignal.nanmean`</span></a></p>
<div class="system-message" id="id121">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 341); <em><a href="#id122">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:meth&quot;.</p>
</div>
</li>
<li><p class="first"><a href="#id123"><span class="problematic" id="id124">:py:meth:`~.signal.BaseSignal.nanstd`</span></a></p>
<div class="system-message" id="id123">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 342); <em><a href="#id124">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:meth&quot;.</p>
</div>
</li>
<li><p class="first"><a href="#id125"><span class="problematic" id="id126">:py:meth:`~.signal.BaseSignal.nanvar`</span></a></p>
<div class="system-message" id="id125">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 343); <em><a href="#id126">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:meth&quot;.</p>
</div>
</li>
</ul>
<p>Note that by default all this methods perform the operation over <em>all</em>
navigation axes.</p>
<p>Example:</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">BaseSignal</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">random</span><span class="operator">.</span><span class="name">random</span><span class="punctuation">((</span><span class="literal number integer">2</span><span class="punctuation">,</span><span class="literal number integer">4</span><span class="punctuation">,</span><span class="literal number integer">6</span><span class="punctuation">)))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">axes_manager</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">name</span> <span class="operator">=</span> <span class="literal string single">'E'</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span>
<span class="operator">&lt;</span><span class="name">BaseSignal</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">6</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="comment single"># by default perform operation over all navigation axes</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">sum</span><span class="punctuation">()</span>
<span class="operator">&lt;</span><span class="name">BaseSignal</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">6</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="comment single"># can also pass axes individually</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">sum</span><span class="punctuation">(</span><span class="literal string single">'E'</span><span class="punctuation">)</span>
<span class="operator">&lt;</span><span class="name">Signal2D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="comment single"># or a tuple of axes to operate on, with duplicates, by index or directly</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">ans</span> <span class="operator">=</span> <span class="name">s</span><span class="operator">.</span><span class="name">sum</span><span class="punctuation">((</span><span class="operator">-</span><span class="literal number integer">1</span><span class="punctuation">,</span> <span class="name">s</span><span class="operator">.</span><span class="name">axes_manager</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">],</span> <span class="literal string single">'E'</span><span class="punctuation">,</span> <span class="literal number integer">0</span><span class="punctuation">))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">ans</span>
<span class="operator">&lt;</span><span class="name">BaseSignal</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">ans</span><span class="operator">.</span><span class="name">axes_manager</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">]</span>
<span class="operator">&lt;</span><span class="name">Scalar</span> <span class="name">axis</span><span class="punctuation">,</span> <span class="name">size</span><span class="punctuation">:</span> <span class="literal number integer">1</span><span class="operator">&gt;</span>
</pre>
<p>The following methods operate only on one axis at a time:</p>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 371)</p>
<p>Unknown directive type &quot;versionadded&quot;.</p>
<pre class="literal-block">
.. versionadded:: 1.2
   :py:meth:`~.signal.BaseSignal.valuemin`, :py:meth:`~.signal.BaseSignal.indexmin`

</pre>
</div>
<ul>
<li><p class="first"><a href="#id127"><span class="problematic" id="id128">:py:meth:`~.signal.BaseSignal.diff`</span></a></p>
<div class="system-message" id="id127">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 374); <em><a href="#id128">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:meth&quot;.</p>
</div>
</li>
<li><p class="first"><a href="#id129"><span class="problematic" id="id130">:py:meth:`~.signal.BaseSignal.derivative`</span></a></p>
<div class="system-message" id="id129">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 375); <em><a href="#id130">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:meth&quot;.</p>
</div>
</li>
<li><p class="first"><a href="#id131"><span class="problematic" id="id132">:py:meth:`~.signal.BaseSignal.integrate_simpson`</span></a></p>
<div class="system-message" id="id131">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 376); <em><a href="#id132">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:meth&quot;.</p>
</div>
</li>
<li><p class="first"><a href="#id133"><span class="problematic" id="id134">:py:meth:`~.signal.BaseSignal.integrate1D`</span></a></p>
<div class="system-message" id="id133">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 377); <em><a href="#id134">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:meth&quot;.</p>
</div>
</li>
<li><p class="first"><a href="#id135"><span class="problematic" id="id136">:py:meth:`~.signal.BaseSignal.valuemax`</span></a></p>
<div class="system-message" id="id135">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 378); <em><a href="#id136">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:meth&quot;.</p>
</div>
</li>
<li><p class="first"><a href="#id137"><span class="problematic" id="id138">:py:meth:`~.signal.BaseSignal.indexmax`</span></a></p>
<div class="system-message" id="id137">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 379); <em><a href="#id138">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:meth&quot;.</p>
</div>
</li>
<li><p class="first"><a href="#id139"><span class="problematic" id="id140">:py:meth:`~.signal.BaseSignal.valuemin`</span></a></p>
<div class="system-message" id="id139">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 380); <em><a href="#id140">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:meth&quot;.</p>
</div>
</li>
<li><p class="first"><a href="#id141"><span class="problematic" id="id142">:py:meth:`~.signal.BaseSignal.indexmin`</span></a></p>
<div class="system-message" id="id141">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 381); <em><a href="#id142">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:meth&quot;.</p>
</div>
</li>
</ul>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 383)</p>
<p>Unknown directive type &quot;versionadded&quot;.</p>
<pre class="literal-block">
.. versionadded:: 1.0
   numpy ufunc operate on HyperSpy signals


</pre>
</div>
<p id="ufunc-label">All numpy ufunc can operate on <a href="#id143"><span class="problematic" id="id144">:py:class:`~.signal.BaseSignal`</span></a>
instances, for example:</p>
<div class="system-message" id="id143">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 389); <em><a href="#id144">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal1D</span><span class="punctuation">([</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">metadata</span><span class="operator">.</span><span class="name">General</span><span class="operator">.</span><span class="name">title</span> <span class="operator">=</span> <span class="literal string double">&quot;A&quot;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span>
<span class="operator">&lt;</span><span class="name">Signal1D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="name">A</span><span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">2</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">np</span><span class="operator">.</span><span class="name">exp</span><span class="punctuation">(</span><span class="name">s</span><span class="punctuation">)</span>
<span class="operator">&lt;</span><span class="name">Signal1D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="name">exp</span><span class="punctuation">(</span><span class="name">A</span><span class="punctuation">),</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">2</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">np</span><span class="operator">.</span><span class="name">exp</span><span class="punctuation">(</span><span class="name">s</span><span class="punctuation">)</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span> <span class="literal number float">1.</span>        <span class="punctuation">,</span>  <span class="literal number float">2.71828183</span><span class="punctuation">])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">np</span><span class="operator">.</span><span class="name">power</span><span class="punctuation">(</span><span class="name">s</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">)</span>
<span class="operator">&lt;</span><span class="name">Signal1D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="name">power</span><span class="punctuation">(</span><span class="name">A</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">),</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">2</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">np</span><span class="operator">.</span><span class="name">add</span><span class="punctuation">(</span><span class="name">s</span><span class="punctuation">,</span> <span class="name">s</span><span class="punctuation">)</span>
<span class="operator">&lt;</span><span class="name">Signal1D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="name">add</span><span class="punctuation">(</span><span class="name">A</span><span class="punctuation">,</span> <span class="name">A</span><span class="punctuation">),</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">2</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">np</span><span class="operator">.</span><span class="name">add</span><span class="punctuation">(</span><span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal1D</span><span class="punctuation">([</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">]),</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal1D</span><span class="punctuation">([</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">]))</span>
<span class="operator">&lt;</span><span class="name">Signal1D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="name">add</span><span class="punctuation">(</span><span class="name">Untitled</span> <span class="name">Signal</span> <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="name">Untitled</span> <span class="name">Signal</span> <span class="literal number integer">2</span><span class="punctuation">),</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">2</span><span class="punctuation">)</span><span class="operator">&gt;</span>
</pre>
<p>Notice that the title is automatically updated. When the signal has no title
a new title is automatically generated:</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">np</span><span class="operator">.</span><span class="name">add</span><span class="punctuation">(</span><span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal1D</span><span class="punctuation">([</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">]),</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal1D</span><span class="punctuation">([</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">]))</span>
<span class="operator">&lt;</span><span class="name">Signal1D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="name">add</span><span class="punctuation">(</span><span class="name">Untitled</span> <span class="name">Signal</span> <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="name">Untitled</span> <span class="name">Signal</span> <span class="literal number integer">2</span><span class="punctuation">),</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">2</span><span class="punctuation">)</span><span class="operator">&gt;</span>
</pre>
<p>Functions (other than unfucs) that operate on numpy arrays can also operate
on <a href="#id145"><span class="problematic" id="id146">:py:class:`~.signal.BaseSignal`</span></a> instances, however they return a numpy
array instead of a <a href="#id147"><span class="problematic" id="id148">:py:class:`~.signal.BaseSignal`</span></a> instance e.g.:</p>
<div class="system-message" id="id145">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 419); <em><a href="#id146">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<div class="system-message" id="id147">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 419); <em><a href="#id148">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">np</span><span class="operator">.</span><span class="name">angle</span><span class="punctuation">(</span><span class="name">s</span><span class="punctuation">)</span>
<span class="name">array</span><span class="punctuation">([</span> <span class="literal number float">0.</span><span class="punctuation">,</span>  <span class="literal number float">0.</span><span class="punctuation">])</span>
</pre>
</div>
<div class="section" id="indexing">
<span id="signal-indexing"></span><h2>Indexing</h2>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 432)</p>
<p>Unknown directive type &quot;versionadded&quot;.</p>
<pre class="literal-block">
.. versionadded:: 0.6
</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 433)</p>
<p>Unknown directive type &quot;versionchanged&quot;.</p>
<pre class="literal-block">
.. versionchanged:: 0.8.1

</pre>
</div>
<p>Indexing a <a href="#id149"><span class="problematic" id="id150">:py:class:`~.signal.BaseSignal`</span></a>  provides a powerful, convenient and
Pythonic way to access and modify its data. In HyperSpy indexing is achieved
using <tt class="docutils literal">isig</tt> and <tt class="docutils literal">inav</tt>, which allow the navigation and signal dimensions
to be indexed independently. The idea is essentially to specify a subset of the
data based on its position in the array and it is therefore essential to know
the convention adopted for specifying that position, which is described here.</p>
<div class="system-message" id="id149">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 435); <em><a href="#id150">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<p>Those new to Python may find indexing a somewhat esoteric concept but once
mastered it is one of the most powerful features of Python based code and
greatly simplifies many common tasks. HyperSpy's Signal indexing is similar
to numpy array indexing and those new to Python are encouraged to read the
associated <a class="reference external" href="http://ipython.org/">numpy documentation on the subject</a>.</p>
<p>Key features of indexing in HyperSpy are as follows (note that some of these
features differ from numpy):</p>
<ul class="simple">
<li>HyperSpy indexing does:<ul>
<li>Allow independent indexing of signal and navigation dimensions</li>
<li>Support indexing with decimal numbers.</li>
<li>Use the image order for indexing i.e. [x, y, z,...] (HyperSpy) vs
[...,z,y,x] (numpy)</li>
</ul>
</li>
<li>HyperSpy indexing does not:<ul>
<li>Support indexing using arrays.</li>
<li>Allow the addition of new axes using the newaxis object.</li>
</ul>
</li>
</ul>
<p>The examples below illustrate a range of common indexing tasks.</p>
<p>First consider indexing a single spectrum, which has only one signal dimension
(and no navigation dimensions) so we use <tt class="docutils literal">isig</tt>:</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal1D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">arange</span><span class="punctuation">(</span><span class="literal number integer">10</span><span class="punctuation">))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span>
<span class="operator">&lt;</span><span class="name">Signal1D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">10</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">5</span><span class="punctuation">,</span> <span class="literal number integer">6</span><span class="punctuation">,</span> <span class="literal number integer">7</span><span class="punctuation">,</span> <span class="literal number integer">8</span><span class="punctuation">,</span> <span class="literal number integer">9</span><span class="punctuation">])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">isig</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">]</span>
<span class="operator">&lt;</span><span class="name">Signal1D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">isig</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">0</span><span class="punctuation">])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">isig</span><span class="punctuation">[</span><span class="literal number integer">9</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">9</span><span class="punctuation">])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">isig</span><span class="punctuation">[</span><span class="operator">-</span><span class="literal number integer">1</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">9</span><span class="punctuation">])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">isig</span><span class="punctuation">[:</span><span class="literal number integer">5</span><span class="punctuation">]</span>
<span class="operator">&lt;</span><span class="name">Signal1D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">5</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">isig</span><span class="punctuation">[:</span><span class="literal number integer">5</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">isig</span><span class="punctuation">[</span><span class="literal number integer">5</span><span class="punctuation">::</span><span class="operator">-</span><span class="literal number integer">1</span><span class="punctuation">]</span>
<span class="operator">&lt;</span><span class="name">Signal1D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">6</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">isig</span><span class="punctuation">[</span><span class="literal number integer">5</span><span class="punctuation">::</span><span class="operator">-</span><span class="literal number integer">1</span><span class="punctuation">]</span>
<span class="operator">&lt;</span><span class="name">Signal1D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">6</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">isig</span><span class="punctuation">[</span><span class="literal number integer">5</span><span class="punctuation">::</span><span class="literal number integer">2</span><span class="punctuation">]</span>
<span class="operator">&lt;</span><span class="name">Signal1D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">3</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">isig</span><span class="punctuation">[</span><span class="literal number integer">5</span><span class="punctuation">::</span><span class="literal number integer">2</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">5</span><span class="punctuation">,</span> <span class="literal number integer">7</span><span class="punctuation">,</span> <span class="literal number integer">9</span><span class="punctuation">])</span>
</pre>
<p>Unlike numpy, HyperSpy supports indexing using decimal numbers, in which case
HyperSpy indexes using the axis scales instead of the indices.</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal1D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">arange</span><span class="punctuation">(</span><span class="literal number integer">10</span><span class="punctuation">))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span>
<span class="operator">&lt;</span><span class="name">Signal1D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">10</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">5</span><span class="punctuation">,</span> <span class="literal number integer">6</span><span class="punctuation">,</span> <span class="literal number integer">7</span><span class="punctuation">,</span> <span class="literal number integer">8</span><span class="punctuation">,</span> <span class="literal number integer">9</span><span class="punctuation">])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">axes_manager</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">scale</span> <span class="operator">=</span> <span class="literal number float">0.5</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">axes_manager</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">axis</span>
<span class="name">array</span><span class="punctuation">([</span> <span class="literal number float">0.</span> <span class="punctuation">,</span>  <span class="literal number float">0.5</span><span class="punctuation">,</span>  <span class="literal number float">1.</span> <span class="punctuation">,</span>  <span class="literal number float">1.5</span><span class="punctuation">,</span>  <span class="literal number float">2.</span> <span class="punctuation">,</span>  <span class="literal number float">2.5</span><span class="punctuation">,</span>  <span class="literal number float">3.</span> <span class="punctuation">,</span>  <span class="literal number float">3.5</span><span class="punctuation">,</span>  <span class="literal number float">4.</span> <span class="punctuation">,</span>  <span class="literal number float">4.5</span><span class="punctuation">])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">isig</span><span class="punctuation">[</span><span class="literal number float">0.5</span><span class="punctuation">:</span><span class="literal number float">4.</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">5</span><span class="punctuation">,</span> <span class="literal number integer">6</span><span class="punctuation">,</span> <span class="literal number integer">7</span><span class="punctuation">])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">isig</span><span class="punctuation">[</span><span class="literal number float">0.5</span><span class="punctuation">:</span><span class="literal number integer">4</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">isig</span><span class="punctuation">[</span><span class="literal number float">0.5</span><span class="punctuation">:</span><span class="literal number integer">4</span><span class="punctuation">:</span><span class="literal number integer">2</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">])</span>
</pre>
<p>Importantly the original <a href="#id151"><span class="problematic" id="id152">:py:class:`~.signal.BaseSignal`</span></a> and its &quot;indexed self&quot;
share their data and, therefore, modifying the value of the data in one
modifies the same value in the other. Note also that in the example below
s.data is used to access the data as a numpy array directly and this array is
then indexed using numpy indexing.</p>
<div class="system-message" id="id151">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 519); <em><a href="#id152">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal1D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">arange</span><span class="punctuation">(</span><span class="literal number integer">10</span><span class="punctuation">))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span>
<span class="operator">&lt;</span><span class="name">Signal1D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">10</span><span class="punctuation">,)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">5</span><span class="punctuation">,</span> <span class="literal number integer">6</span><span class="punctuation">,</span> <span class="literal number integer">7</span><span class="punctuation">,</span> <span class="literal number integer">8</span><span class="punctuation">,</span> <span class="literal number integer">9</span><span class="punctuation">])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">si</span> <span class="operator">=</span> <span class="name">s</span><span class="operator">.</span><span class="name">isig</span><span class="punctuation">[::</span><span class="literal number integer">2</span><span class="punctuation">]</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">si</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">6</span><span class="punctuation">,</span> <span class="literal number integer">8</span><span class="punctuation">])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">si</span><span class="operator">.</span><span class="name">data</span><span class="punctuation">[:]</span> <span class="operator">=</span> <span class="literal number integer">10</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">si</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">10</span><span class="punctuation">,</span> <span class="literal number integer">10</span><span class="punctuation">,</span> <span class="literal number integer">10</span><span class="punctuation">,</span> <span class="literal number integer">10</span><span class="punctuation">,</span> <span class="literal number integer">10</span><span class="punctuation">])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">10</span><span class="punctuation">,</span>  <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">10</span><span class="punctuation">,</span>  <span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">10</span><span class="punctuation">,</span>  <span class="literal number integer">5</span><span class="punctuation">,</span> <span class="literal number integer">10</span><span class="punctuation">,</span>  <span class="literal number integer">7</span><span class="punctuation">,</span> <span class="literal number integer">10</span><span class="punctuation">,</span>  <span class="literal number integer">9</span><span class="punctuation">])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">data</span><span class="punctuation">[:]</span> <span class="operator">=</span> <span class="literal number integer">0</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">si</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">0</span><span class="punctuation">])</span>
</pre>
<p>Of course it is also possible to use the same syntax to index multidimensional
data treating navigation axes using <tt class="docutils literal">inav</tt> and signal axes using <tt class="docutils literal">isig</tt>.</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal1D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">arange</span><span class="punctuation">(</span><span class="literal number integer">2</span><span class="operator">*</span><span class="literal number integer">3</span><span class="operator">*</span><span class="literal number integer">4</span><span class="punctuation">)</span><span class="operator">.</span><span class="name">reshape</span><span class="punctuation">((</span><span class="literal number integer">2</span><span class="punctuation">,</span><span class="literal number integer">3</span><span class="punctuation">,</span><span class="literal number integer">4</span><span class="punctuation">)))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span>
<span class="operator">&lt;</span><span class="name">Signal1D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="operator">|</span><span class="literal number integer">4</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([[[</span> <span class="literal number integer">0</span><span class="punctuation">,</span>  <span class="literal number integer">1</span><span class="punctuation">,</span>  <span class="literal number integer">2</span><span class="punctuation">,</span>  <span class="literal number integer">3</span><span class="punctuation">],</span>
    <span class="punctuation">[</span> <span class="literal number integer">4</span><span class="punctuation">,</span>  <span class="literal number integer">5</span><span class="punctuation">,</span>  <span class="literal number integer">6</span><span class="punctuation">,</span>  <span class="literal number integer">7</span><span class="punctuation">],</span>
    <span class="punctuation">[</span> <span class="literal number integer">8</span><span class="punctuation">,</span>  <span class="literal number integer">9</span><span class="punctuation">,</span> <span class="literal number integer">10</span><span class="punctuation">,</span> <span class="literal number integer">11</span><span class="punctuation">]],</span>

   <span class="punctuation">[[</span><span class="literal number integer">12</span><span class="punctuation">,</span> <span class="literal number integer">13</span><span class="punctuation">,</span> <span class="literal number integer">14</span><span class="punctuation">,</span> <span class="literal number integer">15</span><span class="punctuation">],</span>
    <span class="punctuation">[</span><span class="literal number integer">16</span><span class="punctuation">,</span> <span class="literal number integer">17</span><span class="punctuation">,</span> <span class="literal number integer">18</span><span class="punctuation">,</span> <span class="literal number integer">19</span><span class="punctuation">],</span>
    <span class="punctuation">[</span><span class="literal number integer">20</span><span class="punctuation">,</span> <span class="literal number integer">21</span><span class="punctuation">,</span> <span class="literal number integer">22</span><span class="punctuation">,</span> <span class="literal number integer">23</span><span class="punctuation">]]])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">axes_manager</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">name</span> <span class="operator">=</span> <span class="literal string single">'x'</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">axes_manager</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">name</span> <span class="operator">=</span> <span class="literal string single">'y'</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">axes_manager</span><span class="punctuation">[</span><span class="literal number integer">2</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">name</span> <span class="operator">=</span> <span class="literal string single">'t'</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">axes_manager</span><span class="operator">.</span><span class="name">signal_axes</span>
<span class="punctuation">(</span><span class="operator">&lt;</span><span class="name">t</span> <span class="name">axis</span><span class="punctuation">,</span> <span class="name">size</span><span class="punctuation">:</span> <span class="literal number integer">4</span><span class="operator">&gt;</span><span class="punctuation">,)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">axes_manager</span><span class="operator">.</span><span class="name">navigation_axes</span>
<span class="punctuation">(</span><span class="operator">&lt;</span><span class="name">x</span> <span class="name">axis</span><span class="punctuation">,</span> <span class="name">size</span><span class="punctuation">:</span> <span class="literal number integer">3</span><span class="punctuation">,</span> <span class="name">index</span><span class="punctuation">:</span> <span class="literal number integer">0</span><span class="operator">&gt;</span><span class="punctuation">,</span> <span class="operator">&lt;</span><span class="name">y</span> <span class="name">axis</span><span class="punctuation">,</span> <span class="name">size</span><span class="punctuation">:</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="name">index</span><span class="punctuation">:</span> <span class="literal number integer">0</span><span class="operator">&gt;</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">inav</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="literal number integer">0</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">inav</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="literal number integer">0</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">axes_manager</span>
<span class="operator">&lt;</span><span class="name">Axes</span> <span class="name">manager</span><span class="punctuation">,</span> <span class="name">axes</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">4</span><span class="punctuation">)</span><span class="operator">&gt;</span>
            <span class="name">Name</span> <span class="operator">|</span>   <span class="name">size</span> <span class="operator">|</span>  <span class="name">index</span> <span class="operator">|</span>  <span class="name">offset</span> <span class="operator">|</span>   <span class="name">scale</span> <span class="operator">|</span>  <span class="name">units</span>
<span class="operator">================</span> <span class="operator">|</span> <span class="operator">======</span> <span class="operator">|</span> <span class="operator">======</span> <span class="operator">|</span> <span class="operator">=======</span> <span class="operator">|</span> <span class="operator">=======</span> <span class="operator">|</span> <span class="operator">======</span>
<span class="operator">----------------</span> <span class="operator">|</span> <span class="operator">------</span> <span class="operator">|</span> <span class="operator">------</span> <span class="operator">|</span> <span class="operator">-------</span> <span class="operator">|</span> <span class="operator">-------</span> <span class="operator">|</span> <span class="operator">------</span>
               <span class="name">t</span> <span class="operator">|</span>      <span class="literal number integer">4</span> <span class="operator">|</span>        <span class="operator">|</span>       <span class="literal number integer">0</span> <span class="operator">|</span>       <span class="literal number integer">1</span> <span class="operator">|</span> <span class="operator">&lt;</span><span class="name">undefined</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">inav</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="literal number integer">0</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">isig</span><span class="punctuation">[::</span><span class="operator">-</span><span class="literal number integer">1</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">0</span><span class="punctuation">])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">isig</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">]</span>
<span class="operator">&lt;</span><span class="name">BaseSignal</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">isig</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">axes_manager</span>
<span class="operator">&lt;</span><span class="name">Axes</span> <span class="name">manager</span><span class="punctuation">,</span> <span class="name">axes</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="operator">|</span><span class="punctuation">)</span><span class="operator">&gt;</span>
            <span class="name">Name</span> <span class="operator">|</span>   <span class="name">size</span> <span class="operator">|</span>  <span class="name">index</span> <span class="operator">|</span>  <span class="name">offset</span> <span class="operator">|</span>   <span class="name">scale</span> <span class="operator">|</span>  <span class="name">units</span>
<span class="operator">================</span> <span class="operator">|</span> <span class="operator">======</span> <span class="operator">|</span> <span class="operator">======</span> <span class="operator">|</span> <span class="operator">=======</span> <span class="operator">|</span> <span class="operator">=======</span> <span class="operator">|</span> <span class="operator">======</span>
               <span class="name">x</span> <span class="operator">|</span>      <span class="literal number integer">3</span> <span class="operator">|</span>      <span class="literal number integer">0</span> <span class="operator">|</span>       <span class="literal number integer">0</span> <span class="operator">|</span>       <span class="literal number integer">1</span> <span class="operator">|</span> <span class="operator">&lt;</span><span class="name">undefined</span><span class="operator">&gt;</span>
               <span class="name">y</span> <span class="operator">|</span>      <span class="literal number integer">2</span> <span class="operator">|</span>      <span class="literal number integer">0</span> <span class="operator">|</span>       <span class="literal number integer">0</span> <span class="operator">|</span>       <span class="literal number integer">1</span> <span class="operator">|</span> <span class="operator">&lt;</span><span class="name">undefined</span><span class="operator">&gt;</span>
<span class="operator">----------------</span> <span class="operator">|</span> <span class="operator">------</span> <span class="operator">|</span> <span class="operator">------</span> <span class="operator">|</span> <span class="operator">-------</span> <span class="operator">|</span> <span class="operator">-------</span> <span class="operator">|</span> <span class="operator">------</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">isig</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([[</span> <span class="literal number integer">0</span><span class="punctuation">,</span>  <span class="literal number integer">4</span><span class="punctuation">,</span>  <span class="literal number integer">8</span><span class="punctuation">],</span>
   <span class="punctuation">[</span><span class="literal number integer">12</span><span class="punctuation">,</span> <span class="literal number integer">16</span><span class="punctuation">,</span> <span class="literal number integer">20</span><span class="punctuation">]])</span>
</pre>
<p>Independent indexation of the signal and navigation dimensions is demonstrated
further in the following:</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal1D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">arange</span><span class="punctuation">(</span><span class="literal number integer">2</span><span class="operator">*</span><span class="literal number integer">3</span><span class="operator">*</span><span class="literal number integer">4</span><span class="punctuation">)</span><span class="operator">.</span><span class="name">reshape</span><span class="punctuation">((</span><span class="literal number integer">2</span><span class="punctuation">,</span><span class="literal number integer">3</span><span class="punctuation">,</span><span class="literal number integer">4</span><span class="punctuation">)))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span>
<span class="operator">&lt;</span><span class="name">Signal1D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="operator">|</span><span class="literal number integer">4</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([[[</span> <span class="literal number integer">0</span><span class="punctuation">,</span>  <span class="literal number integer">1</span><span class="punctuation">,</span>  <span class="literal number integer">2</span><span class="punctuation">,</span>  <span class="literal number integer">3</span><span class="punctuation">],</span>
    <span class="punctuation">[</span> <span class="literal number integer">4</span><span class="punctuation">,</span>  <span class="literal number integer">5</span><span class="punctuation">,</span>  <span class="literal number integer">6</span><span class="punctuation">,</span>  <span class="literal number integer">7</span><span class="punctuation">],</span>
    <span class="punctuation">[</span> <span class="literal number integer">8</span><span class="punctuation">,</span>  <span class="literal number integer">9</span><span class="punctuation">,</span> <span class="literal number integer">10</span><span class="punctuation">,</span> <span class="literal number integer">11</span><span class="punctuation">]],</span>

   <span class="punctuation">[[</span><span class="literal number integer">12</span><span class="punctuation">,</span> <span class="literal number integer">13</span><span class="punctuation">,</span> <span class="literal number integer">14</span><span class="punctuation">,</span> <span class="literal number integer">15</span><span class="punctuation">],</span>
    <span class="punctuation">[</span><span class="literal number integer">16</span><span class="punctuation">,</span> <span class="literal number integer">17</span><span class="punctuation">,</span> <span class="literal number integer">18</span><span class="punctuation">,</span> <span class="literal number integer">19</span><span class="punctuation">],</span>
    <span class="punctuation">[</span><span class="literal number integer">20</span><span class="punctuation">,</span> <span class="literal number integer">21</span><span class="punctuation">,</span> <span class="literal number integer">22</span><span class="punctuation">,</span> <span class="literal number integer">23</span><span class="punctuation">]]])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">axes_manager</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">name</span> <span class="operator">=</span> <span class="literal string single">'x'</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">axes_manager</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">name</span> <span class="operator">=</span> <span class="literal string single">'y'</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">axes_manager</span><span class="punctuation">[</span><span class="literal number integer">2</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">name</span> <span class="operator">=</span> <span class="literal string single">'t'</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">axes_manager</span><span class="operator">.</span><span class="name">signal_axes</span>
<span class="punctuation">(</span><span class="operator">&lt;</span><span class="name">t</span> <span class="name">axis</span><span class="punctuation">,</span> <span class="name">size</span><span class="punctuation">:</span> <span class="literal number integer">4</span><span class="operator">&gt;</span><span class="punctuation">,)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">axes_manager</span><span class="operator">.</span><span class="name">navigation_axes</span>
<span class="punctuation">(</span><span class="operator">&lt;</span><span class="name">x</span> <span class="name">axis</span><span class="punctuation">,</span> <span class="name">size</span><span class="punctuation">:</span> <span class="literal number integer">3</span><span class="punctuation">,</span> <span class="name">index</span><span class="punctuation">:</span> <span class="literal number integer">0</span><span class="operator">&gt;</span><span class="punctuation">,</span> <span class="operator">&lt;</span><span class="name">y</span> <span class="name">axis</span><span class="punctuation">,</span> <span class="name">size</span><span class="punctuation">:</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="name">index</span><span class="punctuation">:</span> <span class="literal number integer">0</span><span class="operator">&gt;</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">inav</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="literal number integer">0</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">inav</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="literal number integer">0</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">axes_manager</span>
<span class="operator">&lt;</span><span class="name">Axes</span> <span class="name">manager</span><span class="punctuation">,</span> <span class="name">axes</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">4</span><span class="punctuation">)</span><span class="operator">&gt;</span>
            <span class="name">Name</span> <span class="operator">|</span>   <span class="name">size</span> <span class="operator">|</span>  <span class="name">index</span> <span class="operator">|</span>  <span class="name">offset</span> <span class="operator">|</span>   <span class="name">scale</span> <span class="operator">|</span>  <span class="name">units</span>
<span class="operator">================</span> <span class="operator">|</span> <span class="operator">======</span> <span class="operator">|</span> <span class="operator">======</span> <span class="operator">|</span> <span class="operator">=======</span> <span class="operator">|</span> <span class="operator">=======</span> <span class="operator">|</span> <span class="operator">======</span>
<span class="operator">----------------</span> <span class="operator">|</span> <span class="operator">------</span> <span class="operator">|</span> <span class="operator">------</span> <span class="operator">|</span> <span class="operator">-------</span> <span class="operator">|</span> <span class="operator">-------</span> <span class="operator">|</span> <span class="operator">------</span>
               <span class="name">t</span> <span class="operator">|</span>      <span class="literal number integer">4</span> <span class="operator">|</span>        <span class="operator">|</span>       <span class="literal number integer">0</span> <span class="operator">|</span>       <span class="literal number integer">1</span> <span class="operator">|</span> <span class="operator">&lt;</span><span class="name">undefined</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">isig</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">]</span>
<span class="operator">&lt;</span><span class="name">BaseSignal</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">isig</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">axes_manager</span>
<span class="operator">&lt;</span><span class="name">Axes</span> <span class="name">manager</span><span class="punctuation">,</span> <span class="name">axes</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="operator">|</span><span class="punctuation">)</span><span class="operator">&gt;</span>
            <span class="name">Name</span> <span class="operator">|</span>   <span class="name">size</span> <span class="operator">|</span>  <span class="name">index</span> <span class="operator">|</span>  <span class="name">offset</span> <span class="operator">|</span>   <span class="name">scale</span> <span class="operator">|</span>  <span class="name">units</span>
<span class="operator">================</span> <span class="operator">|</span> <span class="operator">======</span> <span class="operator">|</span> <span class="operator">======</span> <span class="operator">|</span> <span class="operator">=======</span> <span class="operator">|</span> <span class="operator">=======</span> <span class="operator">|</span> <span class="operator">======</span>
               <span class="name">x</span> <span class="operator">|</span>      <span class="literal number integer">3</span> <span class="operator">|</span>      <span class="literal number integer">0</span> <span class="operator">|</span>       <span class="literal number integer">0</span> <span class="operator">|</span>       <span class="literal number integer">1</span> <span class="operator">|</span> <span class="operator">&lt;</span><span class="name">undefined</span><span class="operator">&gt;</span>
               <span class="name">y</span> <span class="operator">|</span>      <span class="literal number integer">2</span> <span class="operator">|</span>      <span class="literal number integer">0</span> <span class="operator">|</span>       <span class="literal number integer">0</span> <span class="operator">|</span>       <span class="literal number integer">1</span> <span class="operator">|</span> <span class="operator">&lt;</span><span class="name">undefined</span><span class="operator">&gt;</span>
<span class="operator">----------------</span> <span class="operator">|</span> <span class="operator">------</span> <span class="operator">|</span> <span class="operator">------</span> <span class="operator">|</span> <span class="operator">-------</span> <span class="operator">|</span> <span class="operator">-------</span> <span class="operator">|</span> <span class="operator">------</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">isig</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([[</span> <span class="literal number integer">0</span><span class="punctuation">,</span>  <span class="literal number integer">4</span><span class="punctuation">,</span>  <span class="literal number integer">8</span><span class="punctuation">],</span>
   <span class="punctuation">[</span><span class="literal number integer">12</span><span class="punctuation">,</span> <span class="literal number integer">16</span><span class="punctuation">,</span> <span class="literal number integer">20</span><span class="punctuation">]])</span>
</pre>
<p>The same syntax can be used to set the data values in signal and navigation
dimensions respectively:</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal1D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">arange</span><span class="punctuation">(</span><span class="literal number integer">2</span><span class="operator">*</span><span class="literal number integer">3</span><span class="operator">*</span><span class="literal number integer">4</span><span class="punctuation">)</span><span class="operator">.</span><span class="name">reshape</span><span class="punctuation">((</span><span class="literal number integer">2</span><span class="punctuation">,</span><span class="literal number integer">3</span><span class="punctuation">,</span><span class="literal number integer">4</span><span class="punctuation">)))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span>
<span class="operator">&lt;</span><span class="name">Signal1D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="operator">|</span><span class="literal number integer">4</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([[[</span> <span class="literal number integer">0</span><span class="punctuation">,</span>  <span class="literal number integer">1</span><span class="punctuation">,</span>  <span class="literal number integer">2</span><span class="punctuation">,</span>  <span class="literal number integer">3</span><span class="punctuation">],</span>
    <span class="punctuation">[</span> <span class="literal number integer">4</span><span class="punctuation">,</span>  <span class="literal number integer">5</span><span class="punctuation">,</span>  <span class="literal number integer">6</span><span class="punctuation">,</span>  <span class="literal number integer">7</span><span class="punctuation">],</span>
    <span class="punctuation">[</span> <span class="literal number integer">8</span><span class="punctuation">,</span>  <span class="literal number integer">9</span><span class="punctuation">,</span> <span class="literal number integer">10</span><span class="punctuation">,</span> <span class="literal number integer">11</span><span class="punctuation">]],</span>

   <span class="punctuation">[[</span><span class="literal number integer">12</span><span class="punctuation">,</span> <span class="literal number integer">13</span><span class="punctuation">,</span> <span class="literal number integer">14</span><span class="punctuation">,</span> <span class="literal number integer">15</span><span class="punctuation">],</span>
    <span class="punctuation">[</span><span class="literal number integer">16</span><span class="punctuation">,</span> <span class="literal number integer">17</span><span class="punctuation">,</span> <span class="literal number integer">18</span><span class="punctuation">,</span> <span class="literal number integer">19</span><span class="punctuation">],</span>
    <span class="punctuation">[</span><span class="literal number integer">20</span><span class="punctuation">,</span> <span class="literal number integer">21</span><span class="punctuation">,</span> <span class="literal number integer">22</span><span class="punctuation">,</span> <span class="literal number integer">23</span><span class="punctuation">]]])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">inav</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="literal number integer">0</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">inav</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="literal number integer">0</span><span class="punctuation">]</span> <span class="operator">=</span> <span class="literal number integer">1</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">inav</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="literal number integer">0</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">inav</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="literal number integer">0</span><span class="punctuation">]</span> <span class="operator">=</span> <span class="name">s</span><span class="operator">.</span><span class="name">inav</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">,</span><span class="literal number integer">1</span><span class="punctuation">]</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">inav</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">,</span><span class="literal number integer">0</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">16</span><span class="punctuation">,</span> <span class="literal number integer">17</span><span class="punctuation">,</span> <span class="literal number integer">18</span><span class="punctuation">,</span> <span class="literal number integer">19</span><span class="punctuation">])</span>
</pre>
</div>
<div class="section" id="id153">
<span id="signal-operations"></span><h2>Signal operations</h2>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 665)</p>
<p>Unknown directive type &quot;versionadded&quot;.</p>
<pre class="literal-block">
.. versionadded:: 0.6

</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 667)</p>
<p>Unknown directive type &quot;versionadded&quot;.</p>
<pre class="literal-block">
.. versionadded:: 0.8.3

</pre>
</div>
<p><a href="#id154"><span class="problematic" id="id155">:py:class:`~.signal.BaseSignal`</span></a> supports all the Python binary arithmetic
operations (+, -, *, //, %, divmod(), pow(), **, &lt;&lt;, &gt;&gt;, &amp;, ^, |),
augmented binary assignments (+=, -=, *=, /=, //=, %=, **=, &lt;&lt;=, &gt;&gt;=, &amp;=,
^=, |=), unary operations (-, +, abs() and ~) and rich comparisons operations
(&lt;, &lt;=, ==, x!=y, &lt;&gt;, &gt;, &gt;=).</p>
<div class="system-message" id="id154">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 669); <em><a href="#id155">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<p>These operations are performed element-wise. When the dimensions of the signals
are not equal <a class="reference external" href="http://docs.scipy.org/doc/numpy/user/basics.broadcasting.html">numpy broadcasting rules apply</a> independently
for the navigation and signal axes.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Hyperspy does not check if the calibration of the signals matches.</p>
</div>
<p>In the following example <cite>s2</cite> has only one navigation axis while <cite>s</cite> has two.
However, because the size of their first navigation axis is the same, their
dimensions are compatible and <cite>s2</cite> is
broadcasted to match <cite>s</cite>'s dimensions.</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal2D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">ones</span><span class="punctuation">((</span><span class="literal number integer">3</span><span class="punctuation">,</span><span class="literal number integer">2</span><span class="punctuation">,</span><span class="literal number integer">5</span><span class="punctuation">,</span><span class="literal number integer">4</span><span class="punctuation">)))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s2</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal2D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">ones</span><span class="punctuation">((</span><span class="literal number integer">2</span><span class="punctuation">,</span><span class="literal number integer">5</span><span class="punctuation">,</span><span class="literal number integer">4</span><span class="punctuation">)))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span>
<span class="operator">&lt;</span><span class="name">Signal2D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="operator">|</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">5</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s2</span>
<span class="operator">&lt;</span><span class="name">Signal2D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">2</span><span class="operator">|</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">5</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">+</span> <span class="name">s2</span>
<span class="operator">&lt;</span><span class="name">Signal2D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="operator">|</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">5</span><span class="punctuation">)</span><span class="operator">&gt;</span>
</pre>
<p>In the following example the dimensions are not compatible and an exception
is raised.</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal2D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">ones</span><span class="punctuation">((</span><span class="literal number integer">3</span><span class="punctuation">,</span><span class="literal number integer">2</span><span class="punctuation">,</span><span class="literal number integer">5</span><span class="punctuation">,</span><span class="literal number integer">4</span><span class="punctuation">)))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s2</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal2D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">ones</span><span class="punctuation">((</span><span class="literal number integer">3</span><span class="punctuation">,</span><span class="literal number integer">5</span><span class="punctuation">,</span><span class="literal number integer">4</span><span class="punctuation">)))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span>
<span class="operator">&lt;</span><span class="name">Signal2D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="operator">|</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">5</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s2</span>
<span class="operator">&lt;</span><span class="name">Signal2D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">3</span><span class="operator">|</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">5</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">+</span> <span class="name">s2</span>
<span class="name">Traceback</span> <span class="punctuation">(</span><span class="name">most</span> <span class="name">recent</span> <span class="name">call</span> <span class="name">last</span><span class="punctuation">):</span>
  <span class="name">File</span> <span class="literal string double">&quot;&lt;ipython-input-55-044bb11a0bd9&gt;&quot;</span><span class="punctuation">,</span> <span class="name">line</span> <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="operator word">in</span> <span class="operator">&lt;</span><span class="name">module</span><span class="operator">&gt;</span>
    <span class="name">s</span> <span class="operator">+</span> <span class="name">s2</span>
  <span class="name">File</span> <span class="literal string double">&quot;&lt;string&gt;&quot;</span><span class="punctuation">,</span> <span class="name">line</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="operator word">in</span> <span class="name function magic">__add__</span>
  <span class="name">File</span> <span class="literal string double">&quot;/home/fjd29/Python/hyperspy/hyperspy/signal.py&quot;</span><span class="punctuation">,</span> <span class="name">line</span> <span class="literal number integer">2686</span><span class="punctuation">,</span> <span class="operator word">in</span> <span class="name">_binary_operator_ruler</span>
    <span class="keyword">raise</span> <span class="name exception">ValueError</span><span class="punctuation">(</span><span class="name">exception_message</span><span class="punctuation">)</span>
<span class="name exception">ValueError</span><span class="punctuation">:</span> <span class="name">Invalid</span> <span class="name">dimensions</span> <span class="keyword">for</span> <span class="name">this</span> <span class="name">operation</span>
</pre>
<p>Broadcasting operates exactly in the same way for the signal axes:</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal2D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">ones</span><span class="punctuation">((</span><span class="literal number integer">3</span><span class="punctuation">,</span><span class="literal number integer">2</span><span class="punctuation">,</span><span class="literal number integer">5</span><span class="punctuation">,</span><span class="literal number integer">4</span><span class="punctuation">)))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s2</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal1D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">ones</span><span class="punctuation">((</span><span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">)))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span>
<span class="operator">&lt;</span><span class="name">Signal2D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="operator">|</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">5</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s2</span>
<span class="operator">&lt;</span><span class="name">Signal1D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="operator">|</span><span class="literal number integer">4</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">+</span> <span class="name">s2</span>
<span class="operator">&lt;</span><span class="name">Signal2D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="operator">|</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">5</span><span class="punctuation">)</span><span class="operator">&gt;</span>
</pre>
<p>In-place operators also support broadcasting, but only when broadcasting would
not change the left most signal dimensions:</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">+=</span> <span class="name">s2</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span>
<span class="operator">&lt;</span><span class="name">Signal2D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="operator">|</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">5</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s2</span> <span class="operator">+=</span> <span class="name">s</span>
<span class="name">Traceback</span> <span class="punctuation">(</span><span class="name">most</span> <span class="name">recent</span> <span class="name">call</span> <span class="name">last</span><span class="punctuation">):</span>
  <span class="name">File</span> <span class="literal string double">&quot;&lt;ipython-input-64-fdb9d3a69771&gt;&quot;</span><span class="punctuation">,</span> <span class="name">line</span> <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="operator word">in</span> <span class="operator">&lt;</span><span class="name">module</span><span class="operator">&gt;</span>
    <span class="name">s2</span> <span class="operator">+=</span> <span class="name">s</span>
  <span class="name">File</span> <span class="literal string double">&quot;&lt;string&gt;&quot;</span><span class="punctuation">,</span> <span class="name">line</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="operator word">in</span> <span class="name function magic">__iadd__</span>
  <span class="name">File</span> <span class="literal string double">&quot;/home/fjd29/Python/hyperspy/hyperspy/signal.py&quot;</span><span class="punctuation">,</span> <span class="name">line</span> <span class="literal number integer">2737</span><span class="punctuation">,</span> <span class="operator word">in</span> <span class="name">_binary_operator_ruler</span>
    <span class="name builtin pseudo">self</span><span class="operator">.</span><span class="name">data</span> <span class="operator">=</span> <span class="name builtin">getattr</span><span class="punctuation">(</span><span class="name">sdata</span><span class="punctuation">,</span> <span class="name">op_name</span><span class="punctuation">)(</span><span class="name">odata</span><span class="punctuation">)</span>
<span class="name exception">ValueError</span><span class="punctuation">:</span> <span class="name">non</span><span class="operator">-</span><span class="name">broadcastable</span> <span class="name">output</span> <span class="name">operand</span> <span class="keyword">with</span> <span class="name">shape</span> <span class="punctuation">(</span><span class="literal number integer">3</span><span class="punctuation">,</span><span class="literal number integer">2</span><span class="punctuation">,</span><span class="literal number integer">1</span><span class="punctuation">,</span><span class="literal number integer">4</span><span class="punctuation">)</span> <span class="name">doesn</span>\<span class="literal string single">'t match the broadcast shape (3,2,5,4)</span>
</pre>
</div>
<div class="section" id="iterating-over-the-navigation-axes">
<span id="signal-iterator"></span><h2>Iterating over the navigation axes</h2>
<p>BaseSignal instances are iterables over the navigation axes. For example, the
following code creates a stack of 10 images and saves them in separate &quot;png&quot;
files by iterating over the signal instance:</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">image_stack</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal2D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">random</span><span class="operator">.</span><span class="name">random</span><span class="punctuation">((</span><span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">5</span><span class="punctuation">,</span> <span class="literal number integer">64</span><span class="punctuation">,</span><span class="literal number integer">64</span><span class="punctuation">)))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">for</span> <span class="name">single_image</span> <span class="operator word">in</span> <span class="name">image_stack</span><span class="punctuation">:</span>
<span class="operator">...</span>    <span class="name">single_image</span><span class="operator">.</span><span class="name">save</span><span class="punctuation">(</span><span class="literal string double">&quot;image </span><span class="literal string interpol">%s</span><span class="literal string double">.png&quot;</span> <span class="operator">%</span> <span class="name builtin">str</span><span class="punctuation">(</span><span class="name">image_stack</span><span class="operator">.</span><span class="name">axes_manager</span><span class="operator">.</span><span class="name">indices</span><span class="punctuation">))</span>
<span class="name">The</span> <span class="literal string double">&quot;image (0, 0).png&quot;</span> <span class="name builtin">file</span> <span class="name">was</span> <span class="name">created</span><span class="operator">.</span>
<span class="name">The</span> <span class="literal string double">&quot;image (1, 0).png&quot;</span> <span class="name builtin">file</span> <span class="name">was</span> <span class="name">created</span><span class="operator">.</span>
<span class="name">The</span> <span class="literal string double">&quot;image (2, 0).png&quot;</span> <span class="name builtin">file</span> <span class="name">was</span> <span class="name">created</span><span class="operator">.</span>
<span class="name">The</span> <span class="literal string double">&quot;image (3, 0).png&quot;</span> <span class="name builtin">file</span> <span class="name">was</span> <span class="name">created</span><span class="operator">.</span>
<span class="name">The</span> <span class="literal string double">&quot;image (4, 0).png&quot;</span> <span class="name builtin">file</span> <span class="name">was</span> <span class="name">created</span><span class="operator">.</span>
<span class="name">The</span> <span class="literal string double">&quot;image (0, 1).png&quot;</span> <span class="name builtin">file</span> <span class="name">was</span> <span class="name">created</span><span class="operator">.</span>
<span class="name">The</span> <span class="literal string double">&quot;image (1, 1).png&quot;</span> <span class="name builtin">file</span> <span class="name">was</span> <span class="name">created</span><span class="operator">.</span>
<span class="name">The</span> <span class="literal string double">&quot;image (2, 1).png&quot;</span> <span class="name builtin">file</span> <span class="name">was</span> <span class="name">created</span><span class="operator">.</span>
<span class="name">The</span> <span class="literal string double">&quot;image (3, 1).png&quot;</span> <span class="name builtin">file</span> <span class="name">was</span> <span class="name">created</span><span class="operator">.</span>
<span class="name">The</span> <span class="literal string double">&quot;image (4, 1).png&quot;</span> <span class="name builtin">file</span> <span class="name">was</span> <span class="name">created</span><span class="operator">.</span>
</pre>
<p>The data of the signal instance that is returned at each iteration is a view of
the original data, a property that we can use to perform operations on the
data.  For example, the following code rotates the image at each coordinate  by
a given angle and uses the <a href="#id156"><span class="problematic" id="id157">:py:func:`~.utils.stack`</span></a> function in combination
with <a class="reference external" href="http://docs.python.org/2/tutorial/datastructures.html#list-comprehensions">list comprehensions</a>
to make a horizontal &quot;collage&quot; of the image stack:</p>
<div class="system-message" id="id156">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 777); <em><a href="#id157">backlink</a></em></p>
Unknown interpreted text role &quot;py:func&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword namespace">import</span> <span class="name namespace">scipy.ndimage</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">image_stack</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal2D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">array</span><span class="punctuation">([</span><span class="name">scipy</span><span class="operator">.</span><span class="name">misc</span><span class="operator">.</span><span class="name">ascent</span><span class="punctuation">()]</span><span class="operator">*</span><span class="literal number integer">5</span><span class="punctuation">))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">image_stack</span><span class="operator">.</span><span class="name">axes_manager</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">name</span> <span class="operator">=</span> <span class="literal string double">&quot;x&quot;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">image_stack</span><span class="operator">.</span><span class="name">axes_manager</span><span class="punctuation">[</span><span class="literal number integer">2</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">name</span> <span class="operator">=</span> <span class="literal string double">&quot;y&quot;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">for</span> <span class="name">image</span><span class="punctuation">,</span> <span class="name">angle</span> <span class="operator word">in</span> <span class="name builtin">zip</span><span class="punctuation">(</span><span class="name">image_stack</span><span class="punctuation">,</span> <span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">45</span><span class="punctuation">,</span> <span class="literal number integer">90</span><span class="punctuation">,</span> <span class="literal number integer">135</span><span class="punctuation">,</span> <span class="literal number integer">180</span><span class="punctuation">)):</span>
<span class="operator">...</span>    <span class="name">image</span><span class="operator">.</span><span class="name">data</span><span class="punctuation">[:]</span> <span class="operator">=</span> <span class="name">scipy</span><span class="operator">.</span><span class="name">ndimage</span><span class="operator">.</span><span class="name">rotate</span><span class="punctuation">(</span><span class="name">image</span><span class="operator">.</span><span class="name">data</span><span class="punctuation">,</span> <span class="name">angle</span><span class="operator">=</span><span class="name">angle</span><span class="punctuation">,</span>
<span class="operator">...</span>    <span class="name">reshape</span><span class="operator">=</span><span class="name builtin pseudo">False</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="comment single"># clip data to integer range:</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">image_stack</span><span class="operator">.</span><span class="name">data</span> <span class="operator">=</span> <span class="name">np</span><span class="operator">.</span><span class="name">clip</span><span class="punctuation">(</span><span class="name">image_stack</span><span class="operator">.</span><span class="name">data</span><span class="punctuation">,</span> <span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">255</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">collage</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">stack</span><span class="punctuation">([</span><span class="name">image</span> <span class="keyword">for</span> <span class="name">image</span> <span class="operator word">in</span> <span class="name">image_stack</span><span class="punctuation">],</span> <span class="name">axis</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">collage</span><span class="operator">.</span><span class="name">plot</span><span class="punctuation">(</span><span class="name">scalebar</span><span class="operator">=</span><span class="name builtin pseudo">False</span><span class="punctuation">)</span>
</pre>
<div class="figure align-center">
<img alt="images/rotate_ascent.png" src="images/rotate_ascent.png" style="width: 500px;" />
<p class="caption">Rotation of images by iteration.</p>
</div>
</div>
<div class="section" id="iterating-external-functions-with-the-map-method">
<span id="map-label"></span><h2>Iterating external functions with the map method</h2>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 810)</p>
<p>Unknown directive type &quot;versionadded&quot;.</p>
<pre class="literal-block">
.. versionadded:: 0.7

</pre>
</div>
<p>Performing an operation on the data at each coordinate, as in the previous example,
using an external function can be more easily accomplished using the
<a href="#id158"><span class="problematic" id="id159">:py:meth:`~.signal.BaseSignal.map`</span></a> method:</p>
<div class="system-message" id="id158">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 812); <em><a href="#id159">backlink</a></em></p>
Unknown interpreted text role &quot;py:meth&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword namespace">import</span> <span class="name namespace">scipy.ndimage</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">image_stack</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal2D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">array</span><span class="punctuation">([</span><span class="name">scipy</span><span class="operator">.</span><span class="name">misc</span><span class="operator">.</span><span class="name">ascent</span><span class="punctuation">()]</span><span class="operator">*</span><span class="literal number integer">4</span><span class="punctuation">))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">image_stack</span><span class="operator">.</span><span class="name">axes_manager</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">name</span> <span class="operator">=</span> <span class="literal string double">&quot;x&quot;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">image_stack</span><span class="operator">.</span><span class="name">axes_manager</span><span class="punctuation">[</span><span class="literal number integer">2</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">name</span> <span class="operator">=</span> <span class="literal string double">&quot;y&quot;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">image_stack</span><span class="operator">.</span><span class="name">map</span><span class="punctuation">(</span><span class="name">scipy</span><span class="operator">.</span><span class="name">ndimage</span><span class="operator">.</span><span class="name">rotate</span><span class="punctuation">,</span>
<span class="operator">...</span>                            <span class="name">angle</span><span class="operator">=</span><span class="literal number integer">45</span><span class="punctuation">,</span>
<span class="operator">...</span>                            <span class="name">reshape</span><span class="operator">=</span><span class="name builtin pseudo">False</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="comment single"># clip data to integer range</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">image_stack</span><span class="operator">.</span><span class="name">data</span> <span class="operator">=</span> <span class="name">np</span><span class="operator">.</span><span class="name">clip</span><span class="punctuation">(</span><span class="name">image_stack</span><span class="operator">.</span><span class="name">data</span><span class="punctuation">,</span> <span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">255</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">collage</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">stack</span><span class="punctuation">([</span><span class="name">image</span> <span class="keyword">for</span> <span class="name">image</span> <span class="operator word">in</span> <span class="name">image_stack</span><span class="punctuation">],</span> <span class="name">axis</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">collage</span><span class="operator">.</span><span class="name">plot</span><span class="punctuation">()</span>
</pre>
<div class="figure align-center">
<img alt="images/rotate_ascent_apply_simple.png" src="images/rotate_ascent_apply_simple.png" style="width: 500px;" />
<p class="caption">Rotation of images by the same amount using <a href="#id160"><span class="problematic" id="id161">:py:meth:`~.signal.BaseSignal.map`</span></a>.</p>
<div class="legend">
<div class="system-message" id="id160">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 834); <em><a href="#id161">backlink</a></em></p>
Unknown interpreted text role &quot;py:meth&quot;.</div>
</div>
</div>
<p>The <a href="#id162"><span class="problematic" id="id163">:py:meth:`~.signal.BaseSignal.map`</span></a> method can also take variable
arguments as in the following example.</p>
<div class="system-message" id="id162">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 836); <em><a href="#id163">backlink</a></em></p>
Unknown interpreted text role &quot;py:meth&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword namespace">import</span> <span class="name namespace">scipy.ndimage</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">image_stack</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal2D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">array</span><span class="punctuation">([</span><span class="name">scipy</span><span class="operator">.</span><span class="name">misc</span><span class="operator">.</span><span class="name">ascent</span><span class="punctuation">()]</span><span class="operator">*</span><span class="literal number integer">4</span><span class="punctuation">))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">image_stack</span><span class="operator">.</span><span class="name">axes_manager</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">name</span> <span class="operator">=</span> <span class="literal string double">&quot;x&quot;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">image_stack</span><span class="operator">.</span><span class="name">axes_manager</span><span class="punctuation">[</span><span class="literal number integer">2</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">name</span> <span class="operator">=</span> <span class="literal string double">&quot;y&quot;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">angles</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">BaseSignal</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">45</span><span class="punctuation">,</span> <span class="literal number integer">90</span><span class="punctuation">,</span> <span class="literal number integer">135</span><span class="punctuation">]))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">image_stack</span><span class="operator">.</span><span class="name">map</span><span class="punctuation">(</span><span class="name">scipy</span><span class="operator">.</span><span class="name">ndimage</span><span class="operator">.</span><span class="name">rotate</span><span class="punctuation">,</span>
<span class="operator">...</span>                            <span class="name">angle</span><span class="operator">=</span><span class="name">angles</span><span class="operator">.</span><span class="name">T</span><span class="punctuation">,</span>
<span class="operator">...</span>                            <span class="name">reshape</span><span class="operator">=</span><span class="name builtin pseudo">False</span><span class="punctuation">)</span>
</pre>
<div class="figure align-center">
<img alt="images/rotate_ascent_apply_ndkwargs.png" src="images/rotate_ascent_apply_ndkwargs.png" style="width: 500px;" />
<p class="caption">Rotation of images using <a href="#id164"><span class="problematic" id="id165">:py:meth:`~.signal.BaseSignal.map`</span></a> with different
arguments for each image in the stack.</p>
<div class="legend">
<div class="system-message" id="id164">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 854); <em><a href="#id165">backlink</a></em></p>
Unknown interpreted text role &quot;py:meth&quot;.</div>
</div>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 857)</p>
<p>Unknown directive type &quot;versionadded&quot;.</p>
<pre class="literal-block">
.. versionadded:: 1.2.0
    ``inplace`` keyword and non-preserved output shapes

</pre>
</div>
<p>If all function calls do not return identically-shaped results, only navigation
information is preserved, and the final result is an array where
each element corresponds to the result of the function (or arbitrary object
type). As such, most HyperSpy functions cannot operate on such Signal, and the
data should be accessed directly.</p>
<p><tt class="docutils literal">inplace</tt> keyword (by default <tt class="docutils literal">True</tt>) of the
<a href="#id166"><span class="problematic" id="id167">:py:meth:`~.signal.BaseSignal.map`</span></a> method allows either overwriting the current
data (default, <tt class="docutils literal">True</tt>) or storing it to a new signal (<tt class="docutils literal">False</tt>).</p>
<div class="system-message" id="id166">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 866); <em><a href="#id167">backlink</a></em></p>
Unknown interpreted text role &quot;py:meth&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword namespace">import</span> <span class="name namespace">scipy.ndimage</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">image_stack</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal2D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">array</span><span class="punctuation">([</span><span class="name">scipy</span><span class="operator">.</span><span class="name">misc</span><span class="operator">.</span><span class="name">ascent</span><span class="punctuation">()]</span><span class="operator">*</span><span class="literal number integer">4</span><span class="punctuation">))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">angles</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">BaseSignal</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">45</span><span class="punctuation">,</span> <span class="literal number integer">90</span><span class="punctuation">,</span> <span class="literal number integer">135</span><span class="punctuation">]))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">result</span> <span class="operator">=</span> <span class="name">image_stack</span><span class="operator">.</span><span class="name">map</span><span class="punctuation">(</span><span class="name">scipy</span><span class="operator">.</span><span class="name">ndimage</span><span class="operator">.</span><span class="name">rotate</span><span class="punctuation">,</span>
<span class="operator">...</span>                            <span class="name">angle</span><span class="operator">=</span><span class="name">angles</span><span class="operator">.</span><span class="name">T</span><span class="punctuation">,</span>
<span class="operator">...</span>                            <span class="name">inplace</span><span class="operator">=</span><span class="name builtin pseudo">False</span><span class="punctuation">,</span>
<span class="operator">...</span>                            <span class="name">reshape</span><span class="operator">=</span><span class="name builtin pseudo">True</span><span class="punctuation">)</span>
<span class="literal number integer">100</span><span class="operator">%|</span><span class="error">████████████████████████████████████████████</span><span class="operator">|</span> <span class="literal number integer">4</span><span class="operator">/</span><span class="literal number integer">4</span> <span class="punctuation">[</span><span class="literal number oct">00</span><span class="punctuation">:</span><span class="literal number oct">00</span><span class="operator">&lt;</span><span class="literal number oct">00</span><span class="punctuation">:</span><span class="literal number oct">00</span><span class="punctuation">,</span> <span class="literal number float">18.42</span><span class="name">it</span><span class="operator">/</span><span class="name">s</span><span class="punctuation">]</span>

<span class="operator">&gt;&gt;&gt;</span> <span class="name">result</span>
<span class="operator">&lt;</span><span class="name">BaseSignal</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">4</span><span class="operator">|</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">image_stack</span><span class="operator">.</span><span class="name">data</span><span class="operator">.</span><span class="name">dtype</span>
<span class="name">dtype</span><span class="punctuation">(</span><span class="literal string single">'O'</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">for</span> <span class="name">d</span> <span class="operator word">in</span> <span class="name">result</span><span class="operator">.</span><span class="name">data</span><span class="operator">.</span><span class="name">flat</span><span class="punctuation">:</span>
<span class="operator">...</span>     <span class="keyword">print</span><span class="punctuation">(</span><span class="name">d</span><span class="operator">.</span><span class="name">shape</span><span class="punctuation">)</span>
<span class="punctuation">(</span><span class="literal number integer">512</span><span class="punctuation">,</span> <span class="literal number integer">512</span><span class="punctuation">)</span>
<span class="punctuation">(</span><span class="literal number integer">724</span><span class="punctuation">,</span> <span class="literal number integer">724</span><span class="punctuation">)</span>
<span class="punctuation">(</span><span class="literal number integer">512</span><span class="punctuation">,</span> <span class="literal number integer">512</span><span class="punctuation">)</span>
<span class="punctuation">(</span><span class="literal number integer">724</span><span class="punctuation">,</span> <span class="literal number integer">724</span><span class="punctuation">)</span>
</pre>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 893)</p>
<p>Unknown directive type &quot;versionadded&quot;.</p>
<pre class="literal-block">
.. versionadded:: 1.2.0
    ``parallel`` keyword.



</pre>
</div>
<p id="parallel-map-label">The execution can be sped up by passing <tt class="docutils literal">parallel</tt> keyword to the
<a href="#id168"><span class="problematic" id="id169">:py:meth:`~.signal.BaseSignal.map`</span></a> method:</p>
<div class="system-message" id="id168">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 900); <em><a href="#id169">backlink</a></em></p>
Unknown interpreted text role &quot;py:meth&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword namespace">import</span> <span class="name namespace">time</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">def</span> <span class="name function">slow_func</span><span class="punctuation">(</span><span class="name">data</span><span class="punctuation">):</span>
<span class="operator">...</span>     <span class="name">time</span><span class="operator">.</span><span class="name">sleep</span><span class="punctuation">(</span><span class="literal number float">1.</span><span class="punctuation">)</span>
<span class="operator">...</span>     <span class="keyword">return</span> <span class="name">data</span> <span class="operator">+</span> <span class="literal number integer">1</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal1D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">arange</span><span class="punctuation">(</span><span class="literal number integer">20</span><span class="punctuation">)</span><span class="operator">.</span><span class="name">reshape</span><span class="punctuation">((</span><span class="literal number integer">20</span><span class="punctuation">,</span><span class="literal number integer">1</span><span class="punctuation">)))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span>
<span class="operator">&lt;</span><span class="name">Signal1D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">20</span><span class="operator">|</span><span class="literal number integer">1</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">map</span><span class="punctuation">(</span><span class="name">slow_func</span><span class="punctuation">,</span> <span class="name">parallel</span><span class="operator">=</span><span class="name builtin pseudo">False</span><span class="punctuation">)</span>
<span class="literal number integer">100</span><span class="operator">%|</span><span class="error">██████████████████████████████████████</span><span class="operator">|</span> <span class="literal number integer">20</span><span class="operator">/</span><span class="literal number integer">20</span> <span class="punctuation">[</span><span class="literal number oct">00</span><span class="punctuation">:</span><span class="literal number integer">20</span><span class="operator">&lt;</span><span class="literal number oct">00</span><span class="punctuation">:</span><span class="literal number oct">00</span><span class="punctuation">,</span>  <span class="literal number float">1.00</span><span class="name">s</span><span class="operator">/</span><span class="name">it</span><span class="punctuation">]</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="comment single"># some operations will be done in parallel:</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">map</span><span class="punctuation">(</span><span class="name">slow_func</span><span class="punctuation">,</span> <span class="name">parallel</span><span class="operator">=</span><span class="name builtin pseudo">True</span><span class="punctuation">)</span>
<span class="literal number integer">100</span><span class="operator">%|</span><span class="error">██████████████████████████████████████</span><span class="operator">|</span> <span class="literal number integer">20</span><span class="operator">/</span><span class="literal number integer">20</span> <span class="punctuation">[</span><span class="literal number oct">00</span><span class="punctuation">:</span><span class="literal number oct">02</span><span class="operator">&lt;</span><span class="literal number oct">00</span><span class="punctuation">:</span><span class="literal number oct">00</span><span class="punctuation">,</span>  <span class="literal number float">6.73</span><span class="name">it</span><span class="operator">/</span><span class="name">s</span><span class="punctuation">]</span>
</pre>
</div>
<div class="section" id="cropping">
<h2>Cropping</h2>
<p>Cropping can be performed in a very compact and powerful way using
<a href="#id170"><span class="problematic" id="id171">:ref:`signal.indexing`</span></a> . In addition it can be performed using the following
method or GUIs if cropping <a href="#id172"><span class="problematic" id="id173">:ref:`signal1D &lt;signal1D.crop&gt;`</span></a> or <a href="#id174"><span class="problematic" id="id175">:ref:`signal2D
&lt;signal2D.crop&gt;`</span></a>. There is also a general <a href="#id176"><span class="problematic" id="id177">:py:meth:`~.signal.BaseSignal.crop`</span></a>
method that operates <em>in place</em>.</p>
<div class="system-message" id="id170">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 922); <em><a href="#id171">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
<div class="system-message" id="id172">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 922); <em><a href="#id173">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
<div class="system-message" id="id174">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 922); <em><a href="#id175">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
<div class="system-message" id="id176">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 922); <em><a href="#id177">backlink</a></em></p>
Unknown interpreted text role &quot;py:meth&quot;.</div>
</div>
<div class="section" id="rebinning">
<span id="rebin-label"></span><h2>Rebinning</h2>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 933)</p>
<p>Unknown directive type &quot;versionadded&quot;.</p>
<pre class="literal-block">
.. versionadded:: 1.3
    :py:meth:`~.signal.BaseSignal.rebin` generalized to remove the constrain
    of the ``new_shape`` needing to be a divisor of ``data.shape``.


</pre>
</div>
<p>The <a href="#id178"><span class="problematic" id="id179">:py:meth:`~.signal.BaseSignal.rebin`</span></a> methods supports rebinning the data to
arbitrary new shapes as long as the number of dimensions stays the same.
However, internally, it uses two different algorithms to perform the task. Only
when the new shape dimensions are divisors of the old shape's, the operation
supports <a href="#id180"><span class="problematic" id="id181">:ref:`lazy-evaluation &lt;big-data-label&gt;`</span></a> and is usually faster.
Otherwise, the operation requires linear interpolation and is generally slower if
<a class="reference external" href="http://numba.pydata.org/">Numba</a> is not installed.</p>
<div class="system-message" id="id178">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 938); <em><a href="#id179">backlink</a></em></p>
Unknown interpreted text role &quot;py:meth&quot;.</div>
<div class="system-message" id="id180">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 938); <em><a href="#id181">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
<p>For example, the following two equivalent rebinning operations can be  performed
lazily:</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">datasets</span><span class="operator">.</span><span class="name">example_signals</span><span class="operator">.</span><span class="name">EDS_SEM_Spectrum</span><span class="punctuation">()</span><span class="operator">.</span><span class="name">as_lazy</span><span class="punctuation">()</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">print</span><span class="punctuation">(</span><span class="name">s</span><span class="punctuation">)</span>
<span class="operator">&lt;</span><span class="name">LazyEDSSEMSpectrum</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="name">EDS</span> <span class="name">SEM</span> <span class="name">Spectrum</span><span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">1024</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">print</span><span class="punctuation">(</span><span class="name">s</span><span class="operator">.</span><span class="name">rebin</span><span class="punctuation">(</span><span class="name">scale</span><span class="operator">=</span><span class="punctuation">[</span><span class="literal number integer">2</span><span class="punctuation">]))</span>
<span class="operator">&lt;</span><span class="name">LazyEDSSEMSpectrum</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="name">EDS</span> <span class="name">SEM</span> <span class="name">Spectrum</span><span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">512</span><span class="punctuation">)</span><span class="operator">&gt;</span>
</pre>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">datasets</span><span class="operator">.</span><span class="name">example_signals</span><span class="operator">.</span><span class="name">EDS_SEM_Spectrum</span><span class="punctuation">()</span><span class="operator">.</span><span class="name">as_lazy</span><span class="punctuation">()</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">print</span><span class="punctuation">(</span><span class="name">s</span><span class="operator">.</span><span class="name">rebin</span><span class="punctuation">(</span><span class="name">new_shape</span><span class="operator">=</span><span class="punctuation">[</span><span class="literal number integer">512</span><span class="punctuation">]))</span>
<span class="operator">&lt;</span><span class="name">LazyEDSSEMSpectrum</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="name">EDS</span> <span class="name">SEM</span> <span class="name">Spectrum</span><span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">512</span><span class="punctuation">)</span><span class="operator">&gt;</span>
</pre>
<p>On the other hand, the following rebining operation requires interpolation and
cannot be performed lazily:</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">spectrum</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">EDSTEMSpectrum</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">ones</span><span class="punctuation">([</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">10</span><span class="punctuation">]))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">spectrum</span><span class="operator">.</span><span class="name">data</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">9</span><span class="punctuation">]</span> <span class="operator">=</span> <span class="literal number integer">5</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">print</span><span class="punctuation">(</span><span class="name">spectrum</span><span class="punctuation">)</span>
<span class="operator">&lt;</span><span class="name">EDSTEMSpectrum</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="operator">|</span><span class="literal number integer">10</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">print</span> <span class="punctuation">(</span><span class="literal string single">'Sum = '</span><span class="punctuation">,</span> <span class="name">spectrum</span><span class="operator">.</span><span class="name">data</span><span class="operator">.</span><span class="name">sum</span><span class="punctuation">())</span>
<span class="name">Sum</span> <span class="operator">=</span>  <span class="literal number float">164.0</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">scale</span> <span class="operator">=</span> <span class="punctuation">[</span><span class="literal number float">0.5</span><span class="punctuation">,</span> <span class="literal number float">0.5</span><span class="punctuation">,</span> <span class="literal number integer">5</span><span class="punctuation">]</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">test</span> <span class="operator">=</span> <span class="name">spectrum</span><span class="operator">.</span><span class="name">rebin</span><span class="punctuation">(</span><span class="name">scale</span><span class="operator">=</span><span class="name">scale</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">test2</span> <span class="operator">=</span> <span class="name">spectrum</span><span class="operator">.</span><span class="name">rebin</span><span class="punctuation">(</span><span class="name">new_shape</span><span class="operator">=</span><span class="punctuation">(</span><span class="literal number integer">8</span><span class="punctuation">,</span> <span class="literal number integer">8</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">))</span> <span class="comment single"># Equivalent to the above</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">print</span><span class="punctuation">(</span><span class="name">test</span><span class="punctuation">)</span>
<span class="operator">&lt;</span><span class="name">EDSTEMSpectrum</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">8</span><span class="punctuation">,</span> <span class="literal number integer">8</span><span class="operator">|</span><span class="literal number integer">2</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">print</span><span class="punctuation">(</span><span class="name">test2</span><span class="punctuation">)</span>
<span class="operator">&lt;</span><span class="name">EDSTEMSpectrum</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">8</span><span class="punctuation">,</span> <span class="literal number integer">8</span><span class="operator">|</span><span class="literal number integer">2</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">print</span><span class="punctuation">(</span><span class="literal string single">'Sum ='</span><span class="punctuation">,</span> <span class="name">test</span><span class="operator">.</span><span class="name">data</span><span class="operator">.</span><span class="name">sum</span><span class="punctuation">())</span>
<span class="name">Sum</span> <span class="operator">=</span> <span class="literal number float">164.0</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">print</span><span class="punctuation">(</span><span class="literal string single">'Sum ='</span><span class="punctuation">,</span> <span class="name">test2</span><span class="operator">.</span><span class="name">data</span><span class="operator">.</span><span class="name">sum</span><span class="punctuation">())</span>
<span class="name">Sum</span> <span class="operator">=</span> <span class="literal number float">164.0</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">spectrum</span><span class="operator">.</span><span class="name">as_lazy</span><span class="punctuation">()</span><span class="operator">.</span><span class="name">rebin</span><span class="punctuation">(</span><span class="name">scale</span><span class="operator">=</span><span class="name">scale</span><span class="punctuation">)</span>
<span class="name">Traceback</span> <span class="punctuation">(</span><span class="name">most</span> <span class="name">recent</span> <span class="name">call</span> <span class="name">last</span><span class="punctuation">):</span>
  <span class="name">File</span> <span class="literal string double">&quot;&lt;ipython-input-26-49bca19ebf34&gt;&quot;</span><span class="punctuation">,</span> <span class="name">line</span> <span class="literal number integer">1</span><span class="punctuation">,</span> <span class="operator word">in</span> <span class="operator">&lt;</span><span class="name">module</span><span class="operator">&gt;</span>
    <span class="name">spectrum</span><span class="operator">.</span><span class="name">as_lazy</span><span class="punctuation">()</span><span class="operator">.</span><span class="name">rebin</span><span class="punctuation">(</span><span class="name">scale</span><span class="operator">=</span><span class="name">scale</span><span class="punctuation">)</span>
  <span class="name">File</span> <span class="literal string double">&quot;/home/fjd29/Python/hyperspy3/hyperspy/_signals/eds.py&quot;</span><span class="punctuation">,</span> <span class="name">line</span> <span class="literal number integer">184</span><span class="punctuation">,</span> <span class="operator word">in</span> <span class="name">rebin</span>
    <span class="name">m</span> <span class="operator">=</span> <span class="name builtin">super</span><span class="punctuation">()</span><span class="operator">.</span><span class="name">rebin</span><span class="punctuation">(</span><span class="name">new_shape</span><span class="operator">=</span><span class="name">new_shape</span><span class="punctuation">,</span> <span class="name">scale</span><span class="operator">=</span><span class="name">scale</span><span class="punctuation">,</span> <span class="name">crop</span><span class="operator">=</span><span class="name">crop</span><span class="punctuation">,</span> <span class="name">out</span><span class="operator">=</span><span class="name">out</span><span class="punctuation">)</span>
  <span class="name">File</span> <span class="literal string double">&quot;/home/fjd29/Python/hyperspy3/hyperspy/_signals/lazy.py&quot;</span><span class="punctuation">,</span> <span class="name">line</span> <span class="literal number integer">246</span><span class="punctuation">,</span> <span class="operator word">in</span> <span class="name">rebin</span>
    <span class="literal string double">&quot;Lazy rebin requires scale to be integer and divisor of the &quot;</span>
<span class="name exception">NotImplementedError</span><span class="punctuation">:</span> <span class="name">Lazy</span> <span class="name">rebin</span> <span class="name">requires</span> <span class="name">scale</span> <span class="name">to</span> <span class="name">be</span> <span class="name">integer</span> <span class="operator word">and</span> <span class="name">divisor</span> <span class="name">of</span> <span class="name">the</span> <span class="name">original</span> <span class="name">signal</span> <span class="name">shape</span>
</pre>
</div>
<div class="section" id="folding-and-unfolding">
<h2>Folding and unfolding</h2>
<p>When dealing with multidimensional datasets it is sometimes useful to transform
the data into a two dimensional dataset. This can be accomplished using the
following two methods:</p>
<ul>
<li><p class="first"><a href="#id182"><span class="problematic" id="id183">:py:meth:`~.signal.BaseSignal.fold`</span></a></p>
<div class="system-message" id="id182">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1006); <em><a href="#id183">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:meth&quot;.</p>
</div>
</li>
<li><p class="first"><a href="#id184"><span class="problematic" id="id185">:py:meth:`~.signal.BaseSignal.unfold`</span></a></p>
<div class="system-message" id="id184">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1007); <em><a href="#id185">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:meth&quot;.</p>
</div>
</li>
</ul>
<p>It is also possible to unfold only the navigation or only the signal space:</p>
<ul>
<li><p class="first"><a href="#id186"><span class="problematic" id="id187">:py:meth:`~.signal.BaseSignal.unfold_navigation_space`</span></a></p>
<div class="system-message" id="id186">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1011); <em><a href="#id187">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:meth&quot;.</p>
</div>
</li>
<li><p class="first"><a href="#id188"><span class="problematic" id="id189">:py:meth:`~.signal.BaseSignal.unfold_signal_space`</span></a></p>
<div class="system-message" id="id188">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1012); <em><a href="#id189">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:meth&quot;.</p>
</div>
</li>
</ul>
</div>
<div class="section" id="splitting-and-stacking">
<span id="signal-stack-split"></span><h2>Splitting and stacking</h2>
<p>Several objects can be stacked together over an existing axis or over a
new axis using the <a href="#id190"><span class="problematic" id="id191">:py:func:`~.utils.stack`</span></a> function, if they share axis
with same dimension.</p>
<div class="system-message" id="id190">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1020); <em><a href="#id191">backlink</a></em></p>
Unknown interpreted text role &quot;py:func&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">image</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal2D</span><span class="punctuation">(</span><span class="name">scipy</span><span class="operator">.</span><span class="name">misc</span><span class="operator">.</span><span class="name">ascent</span><span class="punctuation">())</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">image</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">stack</span><span class="punctuation">([</span><span class="name">hs</span><span class="operator">.</span><span class="name">stack</span><span class="punctuation">([</span><span class="name">image</span><span class="punctuation">]</span><span class="operator">*</span><span class="literal number integer">3</span><span class="punctuation">,</span><span class="name">axis</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">)]</span><span class="operator">*</span><span class="literal number integer">3</span><span class="punctuation">,</span><span class="name">axis</span><span class="operator">=</span><span class="literal number integer">1</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">image</span><span class="operator">.</span><span class="name">plot</span><span class="punctuation">()</span>
</pre>
<div class="figure align-center">
<img alt="images/stack_ascent_3_3.png" src="images/stack_ascent_3_3.png" style="width: 500px;" />
<p class="caption">Stacking example.</p>
</div>
<p>An object can be split into several objects
with the <a href="#id192"><span class="problematic" id="id193">:py:meth:`~.signal.BaseSignal.split`</span></a> method. This function can be used
to reverse the <a href="#id194"><span class="problematic" id="id195">:py:func:`~.utils.stack`</span></a> function:</p>
<div class="system-message" id="id192">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1036); <em><a href="#id193">backlink</a></em></p>
Unknown interpreted text role &quot;py:meth&quot;.</div>
<div class="system-message" id="id194">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1036); <em><a href="#id195">backlink</a></em></p>
Unknown interpreted text role &quot;py:func&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">image</span> <span class="operator">=</span> <span class="name">image</span><span class="operator">.</span><span class="name">split</span><span class="punctuation">()[</span><span class="literal number integer">0</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">split</span><span class="punctuation">()[</span><span class="literal number integer">0</span><span class="punctuation">]</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">image</span><span class="operator">.</span><span class="name">plot</span><span class="punctuation">()</span>
</pre>
<div class="figure align-center">
<img alt="images/split_ascent_3_3.png" src="images/split_ascent_3_3.png" style="width: 400px;" />
<p class="caption">Splitting example.</p>
</div>
</div>
<div class="section" id="fft-and-ifft">
<h2>FFT and iFFT</h2>
<p>The Fast Fourier transform and its inverse can be applied on a signal with the <a href="#id196"><span class="problematic" id="id197">:py:meth:`~.signal.BaseSignal.fft`</span></a> and
the <a href="#id198"><span class="problematic" id="id199">:py:meth:`~.signal.BaseSignal.ifft`</span></a> methods. In order to remove streaks in FFT
(usually used only for presenting FFT patterns rather than for quantitative
analyses) use <tt class="docutils literal">apodization</tt> attribute as follows:</p>
<div class="system-message" id="id196">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1054); <em><a href="#id197">backlink</a></em></p>
Unknown interpreted text role &quot;py:meth&quot;.</div>
<div class="system-message" id="id198">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1054); <em><a href="#id199">backlink</a></em></p>
Unknown interpreted text role &quot;py:meth&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword namespace">import</span> <span class="name namespace">numpy</span> <span class="keyword namespace">as</span> <span class="name namespace">np</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">im</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">datasets</span><span class="operator">.</span><span class="name">example_signals</span><span class="operator">.</span><span class="name">reference_hologram</span><span class="punctuation">()</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">fft_power</span> <span class="operator">=</span> <span class="name">np</span><span class="operator">.</span><span class="name">log</span><span class="punctuation">(</span><span class="name">im</span><span class="operator">.</span><span class="name">fft</span><span class="punctuation">(</span><span class="name">shifted</span><span class="operator">=</span><span class="name builtin pseudo">True</span><span class="punctuation">)</span><span class="operator">.</span><span class="name">amplitude</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">fft_power_apodized</span> <span class="operator">=</span> <span class="name">np</span><span class="operator">.</span><span class="name">log</span><span class="punctuation">(</span><span class="name">im</span><span class="operator">.</span><span class="name">fft</span><span class="punctuation">(</span><span class="name">shifted</span><span class="operator">=</span><span class="name builtin pseudo">True</span><span class="punctuation">,</span> <span class="name">apodization</span><span class="operator">=</span><span class="name builtin pseudo">True</span><span class="punctuation">)</span><span class="operator">.</span><span class="name">amplitude</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">hs</span><span class="operator">.</span><span class="name">plot</span><span class="operator">.</span><span class="name">plot_images</span><span class="punctuation">([</span><span class="name">fft_power</span><span class="punctuation">,</span> <span class="name">fft_power_apodized</span><span class="punctuation">],</span> <span class="name">tight_layout</span><span class="operator">=</span><span class="name builtin pseudo">True</span><span class="punctuation">)</span>
</pre>
<div class="figure align-center">
<img alt="images/ref_hologram_fft.png" src="images/ref_hologram_fft.png" style="width: 800px;" />
</div>
<p><tt class="docutils literal">apodization</tt> attribute can also take following values which correspond to types of apodization windows:
<tt class="docutils literal">hann</tt> (or <tt class="docutils literal">apodization=True</tt>), <tt class="docutils literal">hamming</tt>, <tt class="docutils literal">tukey</tt>.</p>
<p>Note that for visual inspection of FFT it is common to plot logarithm of amplitude
rather than FFT itself as it is done in the example above.</p>
<p>By default both methods calculate FFT and IFFT with origin at (0, 0) (not in the centre of FFT). Use <tt class="docutils literal">shifted=True</tt> option to
calculate FFT and the inverse with origin shifted in the centre.</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">im_ifft</span> <span class="operator">=</span> <span class="name">im</span><span class="operator">.</span><span class="name">fft</span><span class="punctuation">(</span><span class="name">shifted</span><span class="operator">=</span><span class="name builtin pseudo">True</span><span class="punctuation">)</span><span class="operator">.</span><span class="name">ifft</span><span class="punctuation">(</span><span class="name">shifted</span><span class="operator">=</span><span class="name builtin pseudo">True</span><span class="punctuation">)</span>
</pre>
</div>
<div class="section" id="changing-the-data-type">
<span id="signal-change-dtype"></span><h2>Changing the data type</h2>
<p>Even if the original data is recorded with a limited dynamic range, it is often
desirable to perform the analysis operations with a higher precision.
Conversely, if space is limited, storing in a shorter data type can decrease
the file size. The <a href="#id200"><span class="problematic" id="id201">:py:meth:`~.signal.BaseSignal.change_dtype`</span></a> changes the data
type in place, e.g.:</p>
<div class="system-message" id="id200">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1090); <em><a href="#id201">backlink</a></em></p>
Unknown interpreted text role &quot;py:meth&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">load</span><span class="punctuation">(</span><span class="literal string single">'EELS Signal1D Signal2D (high-loss).dm3'</span><span class="punctuation">)</span>
    <span class="name">Title</span><span class="punctuation">:</span> <span class="name">EELS</span> <span class="name">Signal1D</span> <span class="name">Signal2D</span> <span class="punctuation">(</span><span class="name">high</span><span class="operator">-</span><span class="name">loss</span><span class="punctuation">)</span><span class="operator">.</span><span class="name">dm3</span>
    <span class="name">Signal</span> <span class="name builtin">type</span><span class="punctuation">:</span> <span class="name">EELS</span>
    <span class="name">Data</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">21</span><span class="punctuation">,</span> <span class="literal number integer">42</span><span class="punctuation">,</span> <span class="literal number integer">2048</span><span class="punctuation">)</span>
    <span class="name">Data</span> <span class="name">representation</span><span class="punctuation">:</span> <span class="name">spectrum</span>
    <span class="name">Data</span> <span class="name builtin">type</span><span class="punctuation">:</span> <span class="name">float32</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">change_dtype</span><span class="punctuation">(</span><span class="literal string single">'float64'</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword">print</span><span class="punctuation">(</span><span class="name">s</span><span class="punctuation">)</span>
    <span class="name">Title</span><span class="punctuation">:</span> <span class="name">EELS</span> <span class="name">Signal1D</span> <span class="name">Signal2D</span> <span class="punctuation">(</span><span class="name">high</span><span class="operator">-</span><span class="name">loss</span><span class="punctuation">)</span><span class="operator">.</span><span class="name">dm3</span>
    <span class="name">Signal</span> <span class="name builtin">type</span><span class="punctuation">:</span> <span class="name">EELS</span>
    <span class="name">Data</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">21</span><span class="punctuation">,</span> <span class="literal number integer">42</span><span class="punctuation">,</span> <span class="literal number integer">2048</span><span class="punctuation">)</span>
    <span class="name">Data</span> <span class="name">representation</span><span class="punctuation">:</span> <span class="name">spectrum</span>
    <span class="name">Data</span> <span class="name builtin">type</span><span class="punctuation">:</span> <span class="name">float64</span>
</pre>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1113)</p>
<p>Unknown directive type &quot;versionadded&quot;.</p>
<pre class="literal-block">
.. versionadded:: 0.7
   Support for RGB signals.

</pre>
</div>
<p>In addition to all standard numpy dtypes, HyperSpy supports four extra dtypes
for RGB images <strong>for visualization purposes only</strong>: <tt class="docutils literal">rgb8</tt>, <tt class="docutils literal">rgba8</tt>,
<tt class="docutils literal">rgb16</tt> and <tt class="docutils literal">rgba16</tt>. This includes of course multi-dimensional RGB images.</p>
<p>The requirements for changing from and to any <tt class="docutils literal">rgbx</tt> dtype are more strict
than for most other dtype conversions. To change to a <tt class="docutils literal">rgbx</tt> dtype the
<tt class="docutils literal">signal_dimension</tt> must be 1 and its size 3 (4) 3(4) for <tt class="docutils literal">rgb</tt> (or
<tt class="docutils literal">rgba</tt>) dtypes and the dtype must be <tt class="docutils literal">uint8</tt> (<tt class="docutils literal">uint16</tt>) for
<tt class="docutils literal">rgbx8</tt> (<tt class="docutils literal">rgbx16</tt>). After conversion the <tt class="docutils literal">signal_dimension</tt> becomes 2.</p>
<p>Most operations on signals with RGB dtypes will fail. For processing simply
change their dtype to <tt class="docutils literal">uint8</tt> (<tt class="docutils literal">uint16</tt>).The dtype of images of
dtype <tt class="docutils literal">rgbx8</tt> (<tt class="docutils literal">rgbx16</tt>) can only be changed to <tt class="docutils literal">uint8</tt> (<tt class="docutils literal">uint16</tt>) and
the <tt class="docutils literal">signal_dimension</tt> becomes 1.</p>
<p>In the following example we create a 1D signal with signal size 3 and with
dtype <tt class="docutils literal">uint16</tt> and change its dtype to <tt class="docutils literal">rgb16</tt> for plotting.</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">rgb_test</span> <span class="operator">=</span> <span class="name">np</span><span class="operator">.</span><span class="name">zeros</span><span class="punctuation">((</span><span class="literal number integer">1024</span><span class="punctuation">,</span> <span class="literal number integer">1024</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">ly</span><span class="punctuation">,</span> <span class="name">lx</span> <span class="operator">=</span> <span class="name">rgb_test</span><span class="operator">.</span><span class="name">shape</span><span class="punctuation">[:</span><span class="literal number integer">2</span><span class="punctuation">]</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">offset_factor</span> <span class="operator">=</span> <span class="literal number float">0.16</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">size_factor</span> <span class="operator">=</span> <span class="literal number integer">3</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">Y</span><span class="punctuation">,</span> <span class="name">X</span> <span class="operator">=</span> <span class="name">np</span><span class="operator">.</span><span class="name">ogrid</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">:</span><span class="name">lx</span><span class="punctuation">,</span> <span class="literal number integer">0</span><span class="punctuation">:</span><span class="name">ly</span><span class="punctuation">]</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">rgb_test</span><span class="punctuation">[:,:,</span><span class="literal number integer">0</span><span class="punctuation">]</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="name">X</span> <span class="operator">-</span> <span class="name">lx</span> <span class="operator">/</span> <span class="literal number integer">2</span> <span class="operator">-</span> <span class="name">lx</span><span class="operator">*</span><span class="name">offset_factor</span><span class="punctuation">)</span> <span class="operator">**</span> <span class="literal number integer">2</span> <span class="operator">+</span> \
<span class="operator">...</span>                   <span class="punctuation">(</span><span class="name">Y</span> <span class="operator">-</span> <span class="name">ly</span> <span class="operator">/</span> <span class="literal number integer">2</span> <span class="operator">-</span> <span class="name">ly</span><span class="operator">*</span><span class="name">offset_factor</span><span class="punctuation">)</span> <span class="operator">**</span> <span class="literal number integer">2</span> <span class="operator">&lt;</span> \
<span class="operator">...</span>                   <span class="name">lx</span> <span class="operator">*</span> <span class="name">ly</span> <span class="operator">/</span> <span class="name">size_factor</span> <span class="operator">**</span><span class="literal number integer">2</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">rgb_test</span><span class="punctuation">[:,:,</span><span class="literal number integer">1</span><span class="punctuation">]</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="name">X</span> <span class="operator">-</span> <span class="name">lx</span> <span class="operator">/</span> <span class="literal number integer">2</span> <span class="operator">+</span> <span class="name">lx</span><span class="operator">*</span><span class="name">offset_factor</span><span class="punctuation">)</span> <span class="operator">**</span> <span class="literal number integer">2</span> <span class="operator">+</span> \
<span class="operator">...</span>                   <span class="punctuation">(</span><span class="name">Y</span> <span class="operator">-</span> <span class="name">ly</span> <span class="operator">/</span> <span class="literal number integer">2</span> <span class="operator">-</span> <span class="name">ly</span><span class="operator">*</span><span class="name">offset_factor</span><span class="punctuation">)</span> <span class="operator">**</span> <span class="literal number integer">2</span> <span class="operator">&lt;</span> \
<span class="operator">...</span>                   <span class="name">lx</span> <span class="operator">*</span> <span class="name">ly</span> <span class="operator">/</span> <span class="name">size_factor</span> <span class="operator">**</span><span class="literal number integer">2</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">rgb_test</span><span class="punctuation">[:,:,</span><span class="literal number integer">2</span><span class="punctuation">]</span> <span class="operator">=</span> <span class="punctuation">(</span><span class="name">X</span> <span class="operator">-</span> <span class="name">lx</span> <span class="operator">/</span> <span class="literal number integer">2</span><span class="punctuation">)</span> <span class="operator">**</span> <span class="literal number integer">2</span> <span class="operator">+</span> \
<span class="operator">...</span>                   <span class="punctuation">(</span><span class="name">Y</span> <span class="operator">-</span> <span class="name">ly</span> <span class="operator">/</span> <span class="literal number integer">2</span> <span class="operator">+</span> <span class="name">ly</span><span class="operator">*</span><span class="name">offset_factor</span><span class="punctuation">)</span> <span class="operator">**</span> <span class="literal number integer">2</span> \
<span class="operator">...</span>                   <span class="operator">&lt;</span> <span class="name">lx</span> <span class="operator">*</span> <span class="name">ly</span> <span class="operator">/</span> <span class="name">size_factor</span> <span class="operator">**</span><span class="literal number integer">2</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">rgb_test</span> <span class="operator">*=</span> <span class="literal number integer">2</span><span class="operator">**</span><span class="literal number integer">16</span> <span class="operator">-</span> <span class="literal number integer">1</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal1D</span><span class="punctuation">(</span><span class="name">rgb_test</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">change_dtype</span><span class="punctuation">(</span><span class="literal string double">&quot;uint16&quot;</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span>
<span class="operator">&lt;</span><span class="name">Signal1D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">1024</span><span class="punctuation">,</span> <span class="literal number integer">1024</span><span class="operator">|</span><span class="literal number integer">3</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">change_dtype</span><span class="punctuation">(</span><span class="literal string double">&quot;rgb16&quot;</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span>
<span class="operator">&lt;</span><span class="name">Signal2D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">1024</span><span class="punctuation">,</span> <span class="literal number integer">1024</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">plot</span><span class="punctuation">()</span>
</pre>
<div class="figure align-center">
<img alt="images/rgb_example.png" src="images/rgb_example.png" style="width: 500px;" />
<p class="caption">RGB data type example.</p>
</div>
</div>
<div class="section" id="transposing-changing-signal-spaces">
<span id="signal-transpose"></span><h2>Transposing (changing signal spaces)</h2>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1172)</p>
<p>Unknown directive type &quot;versionadded&quot;.</p>
<pre class="literal-block">
.. versionadded:: 1.1

</pre>
</div>
<p><a href="#id202"><span class="problematic" id="id203">:py:meth:`~.signal.BaseSignal.transpose`</span></a> method changes how the dataset
dimensions are interpreted (as signal or navigation axes). By default is
swaps the signal and navigation axes. For example:</p>
<div class="system-message" id="id202">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1174); <em><a href="#id203">backlink</a></em></p>
Unknown interpreted text role &quot;py:meth&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal1D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">zeros</span><span class="punctuation">((</span><span class="literal number integer">4</span><span class="punctuation">,</span><span class="literal number integer">5</span><span class="punctuation">,</span><span class="literal number integer">6</span><span class="punctuation">)))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span>
<span class="operator">&lt;</span><span class="name">Signal1D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">5</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="operator">|</span><span class="literal number integer">6</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">transpose</span><span class="punctuation">()</span>
<span class="operator">&lt;</span><span class="name">Signal2D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">6</span><span class="operator">|</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">5</span><span class="punctuation">)</span><span class="operator">&gt;</span>
</pre>
<p>For <a href="#id204"><span class="problematic" id="id205">:py:meth:`~.signal.BaseSignal.T`</span></a> is a shortcut for the default behaviour:</p>
<div class="system-message" id="id204">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1187); <em><a href="#id205">backlink</a></em></p>
Unknown interpreted text role &quot;py:meth&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal1D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">zeros</span><span class="punctuation">((</span><span class="literal number integer">4</span><span class="punctuation">,</span><span class="literal number integer">5</span><span class="punctuation">,</span><span class="literal number integer">6</span><span class="punctuation">)))</span><span class="operator">.</span><span class="name">T</span>
<span class="operator">&lt;</span><span class="name">Signal2D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">6</span><span class="operator">|</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">5</span><span class="punctuation">)</span><span class="operator">&gt;</span>
</pre>
<p>The method accepts both explicit axes to keep in either space, or just a number
of axes required in one space (just one number can be specified, as the other
is defined as &quot;all other axes&quot;). When axes order is not explicitly defined,
they are &quot;rolled&quot; from one space to the other as if the <tt class="docutils literal">&lt;navigation axes |
signal axes &gt;</tt> wrap a circle. The example below should help clarifying this.</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="comment single"># just create a signal with many distinct dimensions</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">BaseSignal</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">random</span><span class="operator">.</span><span class="name">rand</span><span class="punctuation">(</span><span class="literal number integer">1</span><span class="punctuation">,</span><span class="literal number integer">2</span><span class="punctuation">,</span><span class="literal number integer">3</span><span class="punctuation">,</span><span class="literal number integer">4</span><span class="punctuation">,</span><span class="literal number integer">5</span><span class="punctuation">,</span><span class="literal number integer">6</span><span class="punctuation">,</span><span class="literal number integer">7</span><span class="punctuation">,</span><span class="literal number integer">8</span><span class="punctuation">,</span><span class="literal number integer">9</span><span class="punctuation">))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span>
<span class="operator">&lt;</span><span class="name">BaseSignal</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">9</span><span class="punctuation">,</span> <span class="literal number integer">8</span><span class="punctuation">,</span> <span class="literal number integer">7</span><span class="punctuation">,</span> <span class="literal number integer">6</span><span class="punctuation">,</span> <span class="literal number integer">5</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">transpose</span><span class="punctuation">(</span><span class="name">signal_axes</span><span class="operator">=</span><span class="literal number integer">5</span><span class="punctuation">)</span> <span class="comment single"># roll to leave 5 axes in signal space</span>
<span class="operator">&lt;</span><span class="name">BaseSignal</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="operator">|</span><span class="literal number integer">9</span><span class="punctuation">,</span> <span class="literal number integer">8</span><span class="punctuation">,</span> <span class="literal number integer">7</span><span class="punctuation">,</span> <span class="literal number integer">6</span><span class="punctuation">,</span> <span class="literal number integer">5</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">transpose</span><span class="punctuation">(</span><span class="name">navigation_axes</span><span class="operator">=</span><span class="literal number integer">3</span><span class="punctuation">)</span> <span class="comment single"># roll leave 3 axes in navigation space</span>
<span class="operator">&lt;</span><span class="name">BaseSignal</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="operator">|</span><span class="literal number integer">9</span><span class="punctuation">,</span> <span class="literal number integer">8</span><span class="punctuation">,</span> <span class="literal number integer">7</span><span class="punctuation">,</span> <span class="literal number integer">6</span><span class="punctuation">,</span> <span class="literal number integer">5</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="comment single"># 3 explicitly defined axes in signal space</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">transpose</span><span class="punctuation">(</span><span class="name">signal_axes</span><span class="operator">=</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">6</span><span class="punctuation">])</span>
<span class="operator">&lt;</span><span class="name">BaseSignal</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">8</span><span class="punctuation">,</span> <span class="literal number integer">6</span><span class="punctuation">,</span> <span class="literal number integer">5</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="operator">|</span><span class="literal number integer">9</span><span class="punctuation">,</span> <span class="literal number integer">7</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="comment single"># A mix of two lists, but specifying all axes explicitly</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="comment single"># The order of axes is preserved in both lists</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">transpose</span><span class="punctuation">(</span><span class="name">navigation_axes</span><span class="operator">=</span><span class="punctuation">[</span><span class="literal number integer">1</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">5</span><span class="punctuation">,</span> <span class="literal number integer">8</span><span class="punctuation">],</span> <span class="name">signal_axes</span><span class="operator">=</span><span class="punctuation">[</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">6</span><span class="punctuation">,</span> <span class="literal number integer">7</span><span class="punctuation">])</span>
<span class="operator">&lt;</span><span class="name">BaseSignal</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">8</span><span class="punctuation">,</span> <span class="literal number integer">7</span><span class="punctuation">,</span> <span class="literal number integer">6</span><span class="punctuation">,</span> <span class="literal number integer">5</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="operator">|</span><span class="literal number integer">9</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">)</span><span class="operator">&gt;</span>
</pre>
<p>A convenience functions <a href="#id206"><span class="problematic" id="id207">:py:func:`~.utils.transpose`</span></a> is available to operate on
many signals at once, for example enabling plotting any-dimension signals
trivially:</p>
<div class="system-message" id="id206">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1220); <em><a href="#id207">backlink</a></em></p>
Unknown interpreted text role &quot;py:func&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s2</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">BaseSignal</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">random</span><span class="operator">.</span><span class="name">rand</span><span class="punctuation">(</span><span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">2</span><span class="punctuation">))</span> <span class="comment single"># 2D signal</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s3</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">BaseSignal</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">random</span><span class="operator">.</span><span class="name">rand</span><span class="punctuation">(</span><span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">))</span> <span class="comment single"># 3D signal</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s4</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">BaseSignal</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">random</span><span class="operator">.</span><span class="name">rand</span><span class="punctuation">(</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">))</span> <span class="comment single"># 4D signal</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">hs</span><span class="operator">.</span><span class="name">plot</span><span class="operator">.</span><span class="name">plot_images</span><span class="punctuation">(</span><span class="name">hs</span><span class="operator">.</span><span class="name">transpose</span><span class="punctuation">(</span><span class="name">s2</span><span class="punctuation">,</span> <span class="name">s3</span><span class="punctuation">,</span> <span class="name">s4</span><span class="punctuation">,</span> <span class="name">signal_axes</span><span class="operator">=</span><span class="literal number integer">2</span><span class="punctuation">))</span>
</pre>
<p id="signal-transpose-optimize">The <a href="#id208"><span class="problematic" id="id209">:py:meth:`~.signal.BaseSignal.transpose`</span></a> method accepts keyword argument
<tt class="docutils literal">optimize</tt>, which is <tt class="docutils literal">False</tt> by default, meaning modifying the output
signal data <strong>always modifies the original data</strong> i.e. the data is just a view
of the original data. If <tt class="docutils literal">True</tt>, the method ensures the data in memory is
stored in the most efficient manner for iterating by making a copy of the data
if required, hence modifying the output signal data <strong>not always modifies the
original data</strong>.</p>
<div class="system-message" id="id208">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1233); <em><a href="#id209">backlink</a></em></p>
Unknown interpreted text role &quot;py:meth&quot;.</div>
<p>The convenience methods <a href="#id210"><span class="problematic" id="id211">:py:meth:`~.signal.BaseSignal.as_signal1D`</span></a> and
<a href="#id212"><span class="problematic" id="id213">:py:meth:`~.signal.BaseSignal.as_signal2D`</span></a> internally use
<a href="#id214"><span class="problematic" id="id215">:py:meth:`~.signal.BaseSignal.transpose`</span></a>, but always optimize the data
for iteration over the navigation axes if required. Hence, these methods do not
always return a view of the original data. If a copy of the data is required
use
<a href="#id216"><span class="problematic" id="id217">:py:meth:`~.signal.BaseSignal.deepcopy`</span></a> on the output of any of these
methods e.g.:</p>
<div class="system-message" id="id210">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1241); <em><a href="#id211">backlink</a></em></p>
Unknown interpreted text role &quot;py:meth&quot;.</div>
<div class="system-message" id="id212">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1241); <em><a href="#id213">backlink</a></em></p>
Unknown interpreted text role &quot;py:meth&quot;.</div>
<div class="system-message" id="id214">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1241); <em><a href="#id215">backlink</a></em></p>
Unknown interpreted text role &quot;py:meth&quot;.</div>
<div class="system-message" id="id216">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1241); <em><a href="#id217">backlink</a></em></p>
Unknown interpreted text role &quot;py:meth&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal1D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">zeros</span><span class="punctuation">((</span><span class="literal number integer">4</span><span class="punctuation">,</span><span class="literal number integer">5</span><span class="punctuation">,</span><span class="literal number integer">6</span><span class="punctuation">)))</span><span class="operator">.</span><span class="name">T</span><span class="operator">.</span><span class="name">deepcopy</span><span class="punctuation">()</span>
<span class="operator">&lt;</span><span class="name">Signal2D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">6</span><span class="operator">|</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">5</span><span class="punctuation">)</span><span class="operator">&gt;</span>
</pre>
</div>
<div class="section" id="applying-apodization-window">
<h2>Applying apodization window</h2>
<p>Apodization window (also known as apodization function) can be applied to a signal
using <a href="#id218"><span class="problematic" id="id219">:py:meth:`~.signal.BaseSignal.apply_apodization`</span></a> method. By default standard
Hann window is used:</p>
<div class="system-message" id="id218">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1259); <em><a href="#id219">backlink</a></em></p>
Unknown interpreted text role &quot;py:meth&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal1D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">ones</span><span class="punctuation">(</span><span class="literal number integer">1000</span><span class="punctuation">))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">sa</span> <span class="operator">=</span> <span class="name">s</span><span class="operator">.</span><span class="name">apply_apodization</span><span class="punctuation">()</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">sa</span><span class="operator">.</span><span class="name">metadata</span><span class="operator">.</span><span class="name">General</span><span class="operator">.</span><span class="name">title</span> <span class="operator">=</span> <span class="literal string single">'Hann window'</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">sa</span><span class="operator">.</span><span class="name">plot</span><span class="punctuation">()</span>
</pre>
<div class="figure align-center">
<img alt="images/hann_window.png" src="images/hann_window.png" style="width: 400px;" />
</div>
<p>Higher order Hann window can be used in order to keep larger fraction of intensity of original signal.
This can be done providing an integer number for the order of teh window through
keyword argument <tt class="docutils literal">hann_order</tt>. (The last one works only together with default value of <tt class="docutils literal">window</tt> argument
or with <tt class="docutils literal"><span class="pre">window='hann'</span></tt>.)</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">im</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">datasets</span><span class="operator">.</span><span class="name">example_signals</span><span class="operator">.</span><span class="name">reference_hologram</span><span class="punctuation">()</span><span class="operator">.</span><span class="name">isig</span><span class="punctuation">[:</span><span class="literal number integer">200</span><span class="punctuation">,</span> <span class="punctuation">:</span><span class="literal number integer">200</span><span class="punctuation">]</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">ima</span> <span class="operator">=</span> <span class="name">im</span><span class="operator">.</span><span class="name">apply_apodization</span><span class="punctuation">(</span><span class="name">window</span><span class="operator">=</span><span class="literal string single">'hann'</span><span class="punctuation">,</span> <span class="name">hann_order</span><span class="operator">=</span><span class="literal number integer">3</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">hs</span><span class="operator">.</span><span class="name">plot</span><span class="operator">.</span><span class="name">plot_images</span><span class="punctuation">([</span><span class="name">im</span><span class="punctuation">,</span> <span class="name">ima</span><span class="punctuation">],</span> <span class="name">vmax</span><span class="operator">=</span><span class="literal number integer">3000</span><span class="punctuation">,</span> <span class="name">tight_layout</span><span class="operator">=</span><span class="name builtin pseudo">True</span><span class="punctuation">)</span>
</pre>
<div class="figure align-center">
<img alt="images/hann_3d_order_ref_holo.png" src="images/hann_3d_order_ref_holo.png" style="width: 800px;" />
</div>
<p>In addition to Hann window also Hamming or Tukey windows can be applied using <tt class="docutils literal">window</tt> attribute
selecting <tt class="docutils literal">'hamming'</tt> or <tt class="docutils literal">'tukey'</tt> respectively.</p>
<p>The shape of Tukey window can be adjusted using parameter alpha
provided through``tukey_alpha`` keyword argument (only used when <tt class="docutils literal"><span class="pre">window='tukey'</span></tt>).
The parameter represents the fraction of the window inside the cosine tapered region,
i.e. smaller is alpha larger is the middle flat region where the original signal
is preserved. If alpha is one, the Tukey window is equivalent to a Hann window.
(Default value is 0.5)</p>
<p>Apodization can be applied in place by setting keyword argument <tt class="docutils literal">inplace</tt> to <tt class="docutils literal">True</tt>.
In this case method will not return anything.</p>
</div>
</div>
<div class="section" id="basic-statistical-analysis">
<h1>Basic statistical analysis</h1>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1306)</p>
<p>Unknown directive type &quot;versionadded&quot;.</p>
<pre class="literal-block">
.. versionadded:: 0.7

</pre>
</div>
<p><a href="#id220"><span class="problematic" id="id221">:py:meth:`~.signal.BaseSignal.get_histogram`</span></a> computes the histogram and
conveniently returns it as signal instance. It provides methods to
calculate the bins. <a href="#id222"><span class="problematic" id="id223">:py:meth:`~.signal.BaseSignal.print_summary_statistics`</span></a>
prints the five-number summary statistics of the data.</p>
<div class="system-message" id="id220">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1308); <em><a href="#id221">backlink</a></em></p>
Unknown interpreted text role &quot;py:meth&quot;.</div>
<div class="system-message" id="id222">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1308); <em><a href="#id223">backlink</a></em></p>
Unknown interpreted text role &quot;py:meth&quot;.</div>
<p>These two methods can be combined with
<a href="#id224"><span class="problematic" id="id225">:py:meth:`~.signal.BaseSignal.get_current_signal`</span></a> to compute the histogram or
print the summary statistics of the signal at the current coordinates, e.g:</p>
<div class="system-message" id="id224">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1313); <em><a href="#id225">backlink</a></em></p>
Unknown interpreted text role &quot;py:meth&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">EELSSpectrum</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">random</span><span class="operator">.</span><span class="name">normal</span><span class="punctuation">(</span><span class="name">size</span><span class="operator">=</span><span class="punctuation">(</span><span class="literal number integer">10</span><span class="punctuation">,</span><span class="literal number integer">100</span><span class="punctuation">)))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">print_summary_statistics</span><span class="punctuation">()</span>
<span class="name">Summary</span> <span class="name">statistics</span>
<span class="operator">------------------</span>
<span class="name">mean</span><span class="punctuation">:</span>       <span class="literal number float">0.021</span>
<span class="name">std</span><span class="punctuation">:</span>        <span class="literal number float">0.957</span>
<span class="name builtin">min</span><span class="punctuation">:</span>        <span class="operator">-</span><span class="literal number float">3.991</span>
<span class="name">Q1</span><span class="punctuation">:</span> <span class="operator">-</span><span class="literal number float">0.608</span>
<span class="name">median</span><span class="punctuation">:</span>     <span class="literal number float">0.013</span>
<span class="name">Q3</span><span class="punctuation">:</span> <span class="literal number float">0.652</span>
<span class="name builtin">max</span><span class="punctuation">:</span>        <span class="literal number float">2.751</span>

<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">get_current_signal</span><span class="punctuation">()</span><span class="operator">.</span><span class="name">print_summary_statistics</span><span class="punctuation">()</span>
<span class="name">Summary</span> <span class="name">statistics</span>
<span class="operator">------------------</span>
<span class="name">mean</span><span class="punctuation">:</span>   <span class="operator">-</span><span class="literal number float">0.019</span>
<span class="name">std</span><span class="punctuation">:</span>    <span class="literal number float">0.855</span>
<span class="name builtin">min</span><span class="punctuation">:</span>    <span class="operator">-</span><span class="literal number float">2.803</span>
<span class="name">Q1</span><span class="punctuation">:</span> <span class="operator">-</span><span class="literal number float">0.451</span>
<span class="name">median</span><span class="punctuation">:</span> <span class="operator">-</span><span class="literal number float">0.038</span>
<span class="name">Q3</span><span class="punctuation">:</span> <span class="literal number float">0.484</span>
<span class="name builtin">max</span><span class="punctuation">:</span>    <span class="literal number float">1.992</span>
</pre>
<p>Histogram of different objects can be compared with the functions
<a href="#id226"><span class="problematic" id="id227">:py:func:`~.drawing.utils.plot_histograms`</span></a> (see
<a href="#id228"><span class="problematic" id="id229">:ref:`visualisation &lt;plot_spectra&gt;`</span></a> for the plotting options). For example,
with histograms of several random chi-square distributions:</p>
<div class="system-message" id="id226">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1342); <em><a href="#id227">backlink</a></em></p>
Unknown interpreted text role &quot;py:func&quot;.</div>
<div class="system-message" id="id228">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1342); <em><a href="#id229">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">img</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal2D</span><span class="punctuation">([</span><span class="name">np</span><span class="operator">.</span><span class="name">random</span><span class="operator">.</span><span class="name">chisquare</span><span class="punctuation">(</span><span class="name">i</span><span class="operator">+</span><span class="literal number integer">1</span><span class="punctuation">,[</span><span class="literal number integer">100</span><span class="punctuation">,</span><span class="literal number integer">100</span><span class="punctuation">])</span> <span class="keyword">for</span>
<span class="operator">...</span>                            <span class="name">i</span> <span class="operator word">in</span> <span class="name builtin">range</span><span class="punctuation">(</span><span class="literal number integer">5</span><span class="punctuation">)])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">hs</span><span class="operator">.</span><span class="name">plot</span><span class="operator">.</span><span class="name">plot_histograms</span><span class="punctuation">(</span><span class="name">img</span><span class="punctuation">,</span><span class="name">legend</span><span class="operator">=</span><span class="literal string single">'auto'</span><span class="punctuation">)</span>
</pre>
<div class="figure align-center">
<img alt="images/plot_histograms_chisquare.png" src="images/plot_histograms_chisquare.png" style="width: 500px;" />
<p class="caption">Comparing histograms.</p>
</div>
</div>
<div class="section" id="setting-the-noise-properties">
<span id="signal-noise-properties"></span><h1>Setting the noise properties</h1>
<p>Some data operations require the data variance. Those methods use the
<tt class="docutils literal">metadata.Signal.Noise_properties.variance</tt> attribute if it exists. You can
set this attribute as in the following example where we set the variance to be
10:</p>
<pre class="code python literal-block">
<span class="name">s</span><span class="operator">.</span><span class="name">metadata</span><span class="operator">.</span><span class="name">Signal</span><span class="operator">.</span><span class="name">set_item</span><span class="punctuation">(</span><span class="literal string double">&quot;Noise_properties.variance&quot;</span><span class="punctuation">,</span> <span class="literal number integer">10</span><span class="punctuation">)</span>
</pre>
<p>For heterocedastic noise the <tt class="docutils literal">variance</tt> attribute must be a
<a href="#id230"><span class="problematic" id="id231">:class:`~.signal.BaseSignal`</span></a>.  Poissonian noise is a common case  of
heterocedastic noise where the variance is equal to the expected value. The
<a href="#id232"><span class="problematic" id="id233">:meth:`~.signal.BaseSignal.estimate_poissonian_noise_variance`</span></a>
<a href="#id234"><span class="problematic" id="id235">:class:`~.signal.BaseSignal`</span></a> method can help setting the variance of data with
semi-poissonian noise. With the default arguments, this method simply sets the
variance attribute to the given <tt class="docutils literal">expected_value</tt>. However, more generally
(although then noise is not strictly poissonian), the variance may be
proportional to the expected value. Moreover, when the noise is a mixture of
white (gaussian) and poissonian noise, the variance is described by the
following linear model:</p>
<div class="system-message" id="id230">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1375); <em><a href="#id231">backlink</a></em></p>
Unknown interpreted text role &quot;class&quot;.</div>
<div class="system-message" id="id232">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1375); <em><a href="#id233">backlink</a></em></p>
Unknown interpreted text role &quot;meth&quot;.</div>
<div class="system-message" id="id234">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1375); <em><a href="#id235">backlink</a></em></p>
Unknown interpreted text role &quot;class&quot;.</div>
<blockquote>
<div class="formula">
<span class="mathrm">Var</span>[<i>X</i>] = (<i>a</i>*<span class="mathrm">E</span>[<i>X</i>] + <i>b</i>)*<i>c</i>
</div>
</blockquote>
<p>Where <cite>a</cite> is the <tt class="docutils literal">gain_factor</tt>, <cite>b</cite> is the <tt class="docutils literal">gain_offset</tt> (the Gaussian
noise variance) and <cite>c</cite> the <tt class="docutils literal">correlation_factor</tt>. The correlation
factor accounts for correlation of adjacent signal elements that can
be modelled as a convolution with a Gaussian point spread function.
<a href="#id236"><span class="problematic" id="id237">:meth:`~.signal.BaseSignal.estimate_poissonian_noise_variance`</span></a> can be used to
set the noise properties when the variance can be described by this linear
model, for example:</p>
<div class="system-message" id="id236">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1391); <em><a href="#id237">backlink</a></em></p>
Unknown interpreted text role &quot;meth&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Spectrum</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">ones</span><span class="punctuation">(</span><span class="literal number integer">100</span><span class="punctuation">))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">add_poissonian_noise</span><span class="punctuation">()</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">metadata</span>
<span class="error">├──</span> <span class="name">General</span>
<span class="error">│</span>   <span class="error">└──</span> <span class="name">title</span> <span class="operator">=</span>
<span class="error">└──</span> <span class="name">Signal</span>
    <span class="error">├──</span> <span class="name">binned</span> <span class="operator">=</span> <span class="name builtin pseudo">False</span>
    <span class="error">└──</span> <span class="name">signal_type</span> <span class="operator">=</span>

<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">estimate_poissonian_noise_variance</span><span class="punctuation">()</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">metadata</span>
<span class="error">├──</span> <span class="name">General</span>
<span class="error">│</span>   <span class="error">└──</span> <span class="name">title</span> <span class="operator">=</span>
<span class="error">└──</span> <span class="name">Signal</span>
    <span class="error">├──</span> <span class="name">Noise_properties</span>
    <span class="error">│</span>   <span class="error">├──</span> <span class="name">Variance_linear_model</span>
    <span class="error">│</span>   <span class="error">│</span>   <span class="error">├──</span> <span class="name">correlation_factor</span> <span class="operator">=</span> <span class="literal number integer">1</span>
    <span class="error">│</span>   <span class="error">│</span>   <span class="error">├──</span> <span class="name">gain_factor</span> <span class="operator">=</span> <span class="literal number integer">1</span>
    <span class="error">│</span>   <span class="error">│</span>   <span class="error">└──</span> <span class="name">gain_offset</span> <span class="operator">=</span> <span class="literal number integer">0</span>
    <span class="error">│</span>   <span class="error">└──</span> <span class="name">variance</span> <span class="operator">=</span> <span class="operator">&lt;</span><span class="name">SpectrumSimulation</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="name">Variance</span> <span class="name">of</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">100</span><span class="punctuation">)</span><span class="operator">&gt;</span>
    <span class="error">├──</span> <span class="name">binned</span> <span class="operator">=</span> <span class="name builtin pseudo">False</span>
    <span class="error">└──</span> <span class="name">signal_type</span> <span class="operator">=</span>
</pre>
</div>
<div class="section" id="speeding-up-operations">
<h1>Speeding up operations</h1>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1428)</p>
<p>Unknown directive type &quot;versionadded&quot;.</p>
<pre class="literal-block">
.. versionadded:: 1.0

</pre>
</div>
<div class="section" id="reusing-a-signal-for-output">
<h2>Reusing a Signal for output</h2>
<p>Many signal methods create and return a new signal. For fast operations, the
new signal creation time is non-negligible. Also, when the operation is
repeated many times, for example in a loop, the cumulative creation time can
become significant. Therefore, many operations on
<a href="#id238"><span class="problematic" id="id239">:py:class:`~.signal.BaseSignal`</span></a> accept an optional argument <cite>out</cite>. If an
existing signal is passed to <cite>out</cite>, the function output will be placed into
that signal, instead of being returned in a new signal.  The following example
shows how to use this feature to slice a <a href="#id240"><span class="problematic" id="id241">:py:class:`~.signal.BaseSignal`</span></a>. It is
important to know that the <a href="#id242"><span class="problematic" id="id243">:py:class:`~.signal.BaseSignal`</span></a> instance passed in
the <cite>out</cite> argument must be well-suited for the purpose. Often this means that
it must have the same axes and data shape as the
<a href="#id244"><span class="problematic" id="id245">:py:class:`~.signal.BaseSignal`</span></a> that would normally be returned by the
operation.</p>
<div class="system-message" id="id238">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1433); <em><a href="#id239">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<div class="system-message" id="id240">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1433); <em><a href="#id241">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<div class="system-message" id="id242">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1433); <em><a href="#id243">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<div class="system-message" id="id244">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1433); <em><a href="#id245">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal1D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">arange</span><span class="punctuation">(</span><span class="literal number integer">10</span><span class="punctuation">))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s_sum</span> <span class="operator">=</span> <span class="name">s</span><span class="operator">.</span><span class="name">sum</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s_sum</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">45</span><span class="punctuation">])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">isig</span><span class="punctuation">[:</span><span class="literal number integer">5</span><span class="punctuation">]</span><span class="operator">.</span><span class="name">sum</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="name">out</span><span class="operator">=</span><span class="name">s_sum</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s_sum</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span><span class="literal number integer">10</span><span class="punctuation">])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s_roi</span> <span class="operator">=</span> <span class="name">s</span><span class="operator">.</span><span class="name">isig</span><span class="punctuation">[:</span><span class="literal number integer">3</span><span class="punctuation">]</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s_roi</span>
<span class="operator">&lt;</span><span class="name">Signal1D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">3</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">isig</span><span class="operator">.</span><span class="name function magic">__getitem__</span><span class="punctuation">(</span><span class="name builtin">slice</span><span class="punctuation">(</span><span class="name builtin pseudo">None</span><span class="punctuation">,</span> <span class="literal number integer">5</span><span class="punctuation">),</span> <span class="name">out</span><span class="operator">=</span><span class="name">s_roi</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s_roi</span>
<span class="operator">&lt;</span><span class="name">Signal1D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">5</span><span class="punctuation">)</span><span class="operator">&gt;</span>
</pre>
</div>
</div>
<div class="section" id="interactive-operations">
<span id="interactive-label"></span><h1>Interactive operations</h1>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1469)</p>
<p>Unknown directive type &quot;versionadded&quot;.</p>
<pre class="literal-block">
.. versionadded:: 1.0


</pre>
</div>
<p>The function <a href="#id246"><span class="problematic" id="id247">:py:func:`~.interactive.interactive`</span></a> ease the task of defining
operations that are automatically updated when an event is triggered. By
default it recomputes the operation when data or the axes of the original
signal changes.</p>
<div class="system-message" id="id246">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1472); <em><a href="#id247">backlink</a></em></p>
Unknown interpreted text role &quot;py:func&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal1D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">arange</span><span class="punctuation">(</span><span class="literal number float">10.</span><span class="punctuation">))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">ssum</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">interactive</span><span class="punctuation">(</span><span class="name">s</span><span class="operator">.</span><span class="name">sum</span><span class="punctuation">,</span> <span class="name">axis</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">ssum</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span><span class="literal number float">45.0</span><span class="punctuation">])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">data</span> <span class="operator">/=</span> <span class="literal number integer">10</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">events</span><span class="operator">.</span><span class="name">data_changed</span><span class="operator">.</span><span class="name">trigger</span><span class="punctuation">(</span><span class="name">s</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">ssum</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span> <span class="literal number float">4.5</span><span class="punctuation">])</span>
</pre>
<p>The interactive operations can be chained.</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal1D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">arange</span><span class="punctuation">(</span><span class="literal number integer">2</span> <span class="operator">*</span> <span class="literal number integer">3</span> <span class="operator">*</span> <span class="literal number integer">4</span><span class="punctuation">)</span><span class="operator">.</span><span class="name">reshape</span><span class="punctuation">((</span><span class="literal number integer">2</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">,</span> <span class="literal number integer">4</span><span class="punctuation">)))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">ssum</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">interactive</span><span class="punctuation">(</span><span class="name">s</span><span class="operator">.</span><span class="name">sum</span><span class="punctuation">,</span> <span class="name">axis</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">ssum_mean</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">interactive</span><span class="punctuation">(</span><span class="name">ssum</span><span class="operator">.</span><span class="name">mean</span><span class="punctuation">,</span> <span class="name">axis</span><span class="operator">=</span><span class="literal number integer">0</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">ssum_mean</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span> <span class="literal number float">30.</span><span class="punctuation">,</span>  <span class="literal number float">33.</span><span class="punctuation">,</span>  <span class="literal number float">36.</span><span class="punctuation">,</span>  <span class="literal number float">39.</span><span class="punctuation">])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([[[</span> <span class="literal number integer">0</span><span class="punctuation">,</span>  <span class="literal number integer">1</span><span class="punctuation">,</span>  <span class="literal number integer">2</span><span class="punctuation">,</span>  <span class="literal number integer">3</span><span class="punctuation">],</span>
        <span class="punctuation">[</span> <span class="literal number integer">4</span><span class="punctuation">,</span>  <span class="literal number integer">5</span><span class="punctuation">,</span>  <span class="literal number integer">6</span><span class="punctuation">,</span>  <span class="literal number integer">7</span><span class="punctuation">],</span>
        <span class="punctuation">[</span> <span class="literal number integer">8</span><span class="punctuation">,</span>  <span class="literal number integer">9</span><span class="punctuation">,</span> <span class="literal number integer">10</span><span class="punctuation">,</span> <span class="literal number integer">11</span><span class="punctuation">]],</span>

       <span class="punctuation">[[</span><span class="literal number integer">12</span><span class="punctuation">,</span> <span class="literal number integer">13</span><span class="punctuation">,</span> <span class="literal number integer">14</span><span class="punctuation">,</span> <span class="literal number integer">15</span><span class="punctuation">],</span>
        <span class="punctuation">[</span><span class="literal number integer">16</span><span class="punctuation">,</span> <span class="literal number integer">17</span><span class="punctuation">,</span> <span class="literal number integer">18</span><span class="punctuation">,</span> <span class="literal number integer">19</span><span class="punctuation">],</span>
        <span class="punctuation">[</span><span class="literal number integer">20</span><span class="punctuation">,</span> <span class="literal number integer">21</span><span class="punctuation">,</span> <span class="literal number integer">22</span><span class="punctuation">,</span> <span class="literal number integer">23</span><span class="punctuation">]]])</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">data</span> <span class="operator">*=</span> <span class="literal number integer">10</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">events</span><span class="operator">.</span><span class="name">data_changed</span><span class="operator">.</span><span class="name">trigger</span><span class="punctuation">(</span><span class="name">obj</span><span class="operator">=</span><span class="name">s</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">ssum_mean</span><span class="operator">.</span><span class="name">data</span>
<span class="name">array</span><span class="punctuation">([</span> <span class="literal number float">300.</span><span class="punctuation">,</span>  <span class="literal number float">330.</span><span class="punctuation">,</span>  <span class="literal number float">360.</span><span class="punctuation">,</span>  <span class="literal number float">390.</span><span class="punctuation">])</span>
</pre>
</div>
<div class="section" id="region-of-interest-roi">
<span id="roi-label"></span><h1>Region Of Interest (ROI)</h1>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1515)</p>
<p>Unknown directive type &quot;versionadded&quot;.</p>
<pre class="literal-block">
.. versionadded:: 1.0

</pre>
</div>
<p>A number of different ROIs are available:</p>
<ul>
<li><p class="first"><a href="#id248"><span class="problematic" id="id249">:py:class:`~.roi.Point1DROI`</span></a></p>
<div class="system-message" id="id248">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1519); <em><a href="#id249">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:class&quot;.</p>
</div>
</li>
<li><p class="first"><a href="#id250"><span class="problematic" id="id251">:py:class:`~.roi.Point2DROI`</span></a></p>
<div class="system-message" id="id250">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1520); <em><a href="#id251">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:class&quot;.</p>
</div>
</li>
<li><p class="first"><a href="#id252"><span class="problematic" id="id253">:py:class:`~.roi.SpanROI`</span></a></p>
<div class="system-message" id="id252">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1521); <em><a href="#id253">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:class&quot;.</p>
</div>
</li>
<li><p class="first"><a href="#id254"><span class="problematic" id="id255">:py:class:`~.roi.RectangularROI`</span></a></p>
<div class="system-message" id="id254">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1522); <em><a href="#id255">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:class&quot;.</p>
</div>
</li>
<li><p class="first"><a href="#id256"><span class="problematic" id="id257">:py:class:`~.roi.CircleROI`</span></a></p>
<div class="system-message" id="id256">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1523); <em><a href="#id257">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:class&quot;.</p>
</div>
</li>
<li><p class="first"><a href="#id258"><span class="problematic" id="id259">:py:class:`~.roi.Line2DROI`</span></a></p>
<div class="system-message" id="id258">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1524); <em><a href="#id259">backlink</a></em></p>
<p>Unknown interpreted text role &quot;py:class&quot;.</p>
</div>
</li>
</ul>
<p>Once created, a ROI can be used to return a part of any compatible signal:</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal1D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">arange</span><span class="punctuation">(</span><span class="literal number integer">2000</span><span class="punctuation">)</span><span class="operator">.</span><span class="name">reshape</span><span class="punctuation">((</span><span class="literal number integer">20</span><span class="punctuation">,</span><span class="literal number integer">10</span><span class="punctuation">,</span><span class="literal number integer">10</span><span class="punctuation">)))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">im</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal2D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">arange</span><span class="punctuation">(</span><span class="literal number integer">100</span><span class="punctuation">)</span><span class="operator">.</span><span class="name">reshape</span><span class="punctuation">((</span><span class="literal number integer">10</span><span class="punctuation">,</span><span class="literal number integer">10</span><span class="punctuation">)))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">roi</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">roi</span><span class="operator">.</span><span class="name">RectangularROI</span><span class="punctuation">(</span><span class="name">left</span><span class="operator">=</span><span class="literal number integer">3</span><span class="punctuation">,</span> <span class="name">right</span><span class="operator">=</span><span class="literal number integer">7</span><span class="punctuation">,</span> <span class="name">top</span><span class="operator">=</span><span class="literal number integer">2</span><span class="punctuation">,</span> <span class="name">bottom</span><span class="operator">=</span><span class="literal number integer">5</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">sr</span> <span class="operator">=</span> <span class="name">roi</span><span class="punctuation">(</span><span class="name">s</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">sr</span>
<span class="operator">&lt;</span><span class="name">Signal1D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="operator">|</span><span class="literal number integer">10</span><span class="punctuation">)</span><span class="operator">&gt;</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">imr</span> <span class="operator">=</span> <span class="name">roi</span><span class="punctuation">(</span><span class="name">im</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">imr</span>
<span class="operator">&lt;</span><span class="name">Signal2D</span><span class="punctuation">,</span> <span class="name">title</span><span class="punctuation">:</span> <span class="punctuation">,</span> <span class="name">dimensions</span><span class="punctuation">:</span> <span class="punctuation">(</span><span class="operator">|</span><span class="literal number integer">4</span><span class="punctuation">,</span> <span class="literal number integer">3</span><span class="punctuation">)</span><span class="operator">&gt;</span>
</pre>
<p>ROIs can also be used <a href="#id260"><span class="problematic" id="id261">:ref:`interactively &lt;interactive-label&gt;`</span></a> with widgets.
The following examples shows how to interactively apply ROIs to an image. Note
that <em>it is necessary</em> to plot the signal onto which the widgets will be
added before calling <a href="#id262"><span class="problematic" id="id263">:py:meth:`~.roi.BaseInteractiveROI.interactive`</span></a>.</p>
<div class="system-message" id="id260">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1540); <em><a href="#id261">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
<div class="system-message" id="id262">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1540); <em><a href="#id263">backlink</a></em></p>
Unknown interpreted text role &quot;py:meth&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword namespace">import</span> <span class="name namespace">scipy.misc</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">im</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal2D</span><span class="punctuation">(</span><span class="name">scipy</span><span class="operator">.</span><span class="name">misc</span><span class="operator">.</span><span class="name">ascent</span><span class="punctuation">())</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">rectangular_roi</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">roi</span><span class="operator">.</span><span class="name">RectangularROI</span><span class="punctuation">(</span><span class="name">left</span><span class="operator">=</span><span class="literal number integer">30</span><span class="punctuation">,</span> <span class="name">right</span><span class="operator">=</span><span class="literal number integer">500</span><span class="punctuation">,</span>
<span class="operator">...</span>                                         <span class="name">top</span><span class="operator">=</span><span class="literal number integer">200</span><span class="punctuation">,</span> <span class="name">bottom</span><span class="operator">=</span><span class="literal number integer">400</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">line_roi</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">roi</span><span class="operator">.</span><span class="name">Line2DROI</span><span class="punctuation">(</span><span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">0</span><span class="punctuation">,</span> <span class="literal number integer">512</span><span class="punctuation">,</span> <span class="literal number integer">512</span><span class="punctuation">,</span> <span class="literal number integer">1</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">point_roi</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">roi</span><span class="operator">.</span><span class="name">Point2DROI</span><span class="punctuation">(</span><span class="literal number integer">256</span><span class="punctuation">,</span> <span class="literal number integer">256</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">im</span><span class="operator">.</span><span class="name">plot</span><span class="punctuation">()</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">roi2D</span> <span class="operator">=</span> <span class="name">rectangular_roi</span><span class="operator">.</span><span class="name">interactive</span><span class="punctuation">(</span><span class="name">im</span><span class="punctuation">,</span> <span class="name">color</span><span class="operator">=</span><span class="literal string double">&quot;blue&quot;</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">roi1D</span> <span class="operator">=</span> <span class="name">line_roi</span><span class="operator">.</span><span class="name">interactive</span><span class="punctuation">(</span><span class="name">im</span><span class="punctuation">,</span> <span class="name">color</span><span class="operator">=</span><span class="literal string double">&quot;yellow&quot;</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">roi0D</span> <span class="operator">=</span> <span class="name">point_roi</span><span class="operator">.</span><span class="name">interactive</span><span class="punctuation">(</span><span class="name">im</span><span class="punctuation">,</span> <span class="name">color</span><span class="operator">=</span><span class="literal string double">&quot;red&quot;</span><span class="punctuation">)</span>
</pre>
<div class="figure align-center">
<img alt="images/image_with_rois.png" src="images/image_with_rois.png" style="width: 500px;" />
</div>
<div class="figure align-center">
<img alt="images/roi1d.png" src="images/roi1d.png" style="width: 500px;" />
</div>
<div class="figure align-center">
<img alt="images/roi2d.png" src="images/roi2d.png" style="width: 500px;" />
</div>
<p>Notably,
since ROIs are independent from the signals they sub-select, the widget can be
plotted on a different signal altogether.</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword namespace">import</span> <span class="name namespace">scipy.misc</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">im</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal2D</span><span class="punctuation">(</span><span class="name">scipy</span><span class="operator">.</span><span class="name">misc</span><span class="operator">.</span><span class="name">ascent</span><span class="punctuation">())</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal1D</span><span class="punctuation">(</span><span class="name">np</span><span class="operator">.</span><span class="name">random</span><span class="operator">.</span><span class="name">rand</span><span class="punctuation">(</span><span class="literal number integer">512</span><span class="punctuation">,</span> <span class="literal number integer">512</span><span class="punctuation">,</span> <span class="literal number integer">512</span><span class="punctuation">))</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">roi</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">roi</span><span class="operator">.</span><span class="name">RectangularROI</span><span class="punctuation">(</span><span class="name">left</span><span class="operator">=</span><span class="literal number integer">30</span><span class="punctuation">,</span> <span class="name">right</span><span class="operator">=</span><span class="literal number integer">77</span><span class="punctuation">,</span> <span class="name">top</span><span class="operator">=</span><span class="literal number integer">20</span><span class="punctuation">,</span> <span class="name">bottom</span><span class="operator">=</span><span class="literal number integer">50</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">plot</span><span class="punctuation">()</span> <span class="comment single"># plot signal to have where to display the widget</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">imr</span> <span class="operator">=</span> <span class="name">roi</span><span class="operator">.</span><span class="name">interactive</span><span class="punctuation">(</span><span class="name">im</span><span class="punctuation">,</span> <span class="name">navigation_signal</span><span class="operator">=</span><span class="name">s</span><span class="punctuation">,</span> <span class="name">color</span><span class="operator">=</span><span class="literal string double">&quot;red&quot;</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">roi</span><span class="punctuation">(</span><span class="name">im</span><span class="punctuation">)</span><span class="operator">.</span><span class="name">plot</span><span class="punctuation">()</span>
</pre>
<p>ROIs are implemented in terms of physical coordinates and not pixels, so with
proper calibration will always point to the same region.</p>
<div class="figure align-center">
<img alt="images/random_image_with_rect_roi.png" src="images/random_image_with_rect_roi.png" style="width: 500px;" />
</div>
<div class="figure align-center">
<img alt="images/random_image_with_rect_roi_spectrum.png" src="images/random_image_with_rect_roi_spectrum.png" style="width: 500px;" />
</div>
<div class="figure align-center">
<img alt="images/roi2d.png" src="images/roi2d.png" style="width: 500px;" />
</div>
<p>And of course, as all interactive operations, interactive ROIs are chainable.
The following example shows how to display interactively the histogram of a
rectangular ROI. Notice how we customise the default event connections in
order to increase responsiveness.</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="keyword namespace">import</span> <span class="name namespace">scipy.misc</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">im</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">signals</span><span class="operator">.</span><span class="name">Signal2D</span><span class="punctuation">(</span><span class="name">scipy</span><span class="operator">.</span><span class="name">misc</span><span class="operator">.</span><span class="name">ascent</span><span class="punctuation">())</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">im</span><span class="operator">.</span><span class="name">plot</span><span class="punctuation">()</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">roi</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">roi</span><span class="operator">.</span><span class="name">RectangularROI</span><span class="punctuation">(</span><span class="name">left</span><span class="operator">=</span><span class="literal number integer">30</span><span class="punctuation">,</span> <span class="name">right</span><span class="operator">=</span><span class="literal number integer">500</span><span class="punctuation">,</span> <span class="name">top</span><span class="operator">=</span><span class="literal number integer">200</span><span class="punctuation">,</span> <span class="name">bottom</span><span class="operator">=</span><span class="literal number integer">400</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">im_roi</span> <span class="operator">=</span> <span class="name">roi</span><span class="operator">.</span><span class="name">interactive</span><span class="punctuation">(</span><span class="name">im</span><span class="punctuation">,</span> <span class="name">color</span><span class="operator">=</span><span class="literal string double">&quot;red&quot;</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">roi_hist</span> <span class="operator">=</span><span class="name">hs</span><span class="operator">.</span><span class="name">interactive</span><span class="punctuation">(</span><span class="name">im_roi</span><span class="operator">.</span><span class="name">get_histogram</span><span class="punctuation">,</span>
<span class="operator">...</span>                          <span class="name">event</span><span class="operator">=</span><span class="name">im_roi</span><span class="operator">.</span><span class="name">axes_manager</span><span class="operator">.</span><span class="name">events</span><span class="operator">.</span>\
<span class="operator">...</span>                                <span class="name">any_axis_changed</span><span class="punctuation">,</span>
<span class="operator">...</span>                          <span class="name">recompute_out_event</span><span class="operator">=</span><span class="name builtin pseudo">None</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">roi_hist</span><span class="operator">.</span><span class="name">plot</span><span class="punctuation">()</span>
</pre>
<div class="figure align-center">
<img alt="images/image_with_rect_roi.gif" src="images/image_with_rect_roi.gif" style="width: 100%;" />
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1625)</p>
<p>Unknown directive type &quot;versionadded&quot;.</p>
<pre class="literal-block">
.. versionadded:: 1.3
    ROIs can be used in place of slices when indexing and to define a
    signal range in functions taken a ``signal_range`` argument.


</pre>
</div>
<p>ROIs can be used in place of slices when indexing and to define a
signal range in functions taken a <tt class="docutils literal">signal_range</tt> argument. For example:</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">datasets</span><span class="operator">.</span><span class="name">example_signals</span><span class="operator">.</span><span class="name">EDS_TEM_Spectrum</span><span class="punctuation">()</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">roi</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">roi</span><span class="operator">.</span><span class="name">SpanROI</span><span class="punctuation">(</span><span class="name">left</span><span class="operator">=</span><span class="literal number integer">5</span><span class="punctuation">,</span> <span class="name">right</span><span class="operator">=</span><span class="literal number integer">15</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">sc</span> <span class="operator">=</span> <span class="name">s</span><span class="operator">.</span><span class="name">isig</span><span class="punctuation">[</span><span class="name">roi</span><span class="punctuation">]</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">remove_background</span><span class="punctuation">(</span><span class="name">signal_range</span><span class="operator">=</span><span class="name">roi</span><span class="punctuation">,</span> <span class="name">background_type</span><span class="operator">=</span><span class="literal string double">&quot;Polynomial&quot;</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">im</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">datasets</span><span class="operator">.</span><span class="name">example_signals</span><span class="operator">.</span><span class="name">object_hologram</span><span class="punctuation">()</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">roi</span> <span class="operator">=</span> <span class="name">hs</span><span class="operator">.</span><span class="name">roi</span><span class="operator">.</span><span class="name">RectangularROI</span><span class="punctuation">(</span><span class="name">left</span><span class="operator">=</span><span class="literal number integer">120</span><span class="punctuation">,</span> <span class="name">right</span><span class="operator">=</span><span class="literal number float">460.</span><span class="punctuation">,</span> <span class="name">top</span><span class="operator">=</span><span class="literal number integer">300</span><span class="punctuation">,</span> <span class="name">bottom</span><span class="operator">=</span><span class="literal number integer">560</span><span class="punctuation">)</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">imc</span> <span class="operator">=</span> <span class="name">im</span><span class="operator">.</span><span class="name">isig</span><span class="punctuation">[</span><span class="name">roi</span><span class="punctuation">]</span>
</pre>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1643)</p>
<p>Unknown directive type &quot;versionadded&quot;.</p>
<pre class="literal-block">
.. versionadded:: 1.3
    :meth:`gui` method.


</pre>
</div>
<p>All ROIs have a <a href="#id264"><span class="problematic" id="id265">:meth:`gui`</span></a> method that displays an user interface if
a hyperspy GUI is installed (currently only works with the
<tt class="docutils literal">hyperspy_gui_ipywidgets</tt> GUI), enabling precise control of the ROI
parameters:</p>
<div class="system-message" id="id264">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1647); <em><a href="#id265">backlink</a></em></p>
Unknown interpreted text role &quot;meth&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="comment single"># continuing from above:</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">roi</span><span class="operator">.</span><span class="name">gui</span><span class="punctuation">()</span>
</pre>
<div class="figure align-center">
<img alt="images/roi_gui_control.gif" src="images/roi_gui_control.gif" style="width: 100%;" />
</div>
</div>
<div class="section" id="handling-complex-data">
<span id="complex-data-label"></span><h1>Handling complex data</h1>
<p>The HyperSpy <a href="#id266"><span class="problematic" id="id267">:py:class:`~.hyperspy.signals.ComplexSignal`</span></a> signal class and its
subclasses for 1-dimensional and 2-dimensional data allow the user to access
complex properties like the <cite>real</cite> and <cite>imag</cite> parts of the data or the
<cite>amplitude</cite> (also known as the modulus) and <cite>phase</cite> (also known as angle or
argument) directly. Getting and setting those properties can be done as
follows:</p>
<div class="system-message" id="id266">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1667); <em><a href="#id267">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">real</span> <span class="operator">=</span> <span class="name">s</span><span class="operator">.</span><span class="name">real</span>      <span class="comment single"># real is a new HS signal accessing the same data</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">real</span> <span class="operator">=</span> <span class="name">new_real</span>  <span class="comment single"># new_real can be an array or signal</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">imag</span> <span class="operator">=</span> <span class="name">s</span><span class="operator">.</span><span class="name">imag</span>      <span class="comment single"># imag  is a new HS signal accessing the same data</span>
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">imag</span> <span class="operator">=</span> <span class="name">new_imag</span>  <span class="comment single"># new_imag can be an array or signal</span>
</pre>
<p>It is important to note that <cite>data</cite> passed to the constructor of a
<a href="#id268"><span class="problematic" id="id269">:py:class:`~._signals.complex_signal.ComplexSignal`</span></a> (or to a subclass), which
is not already complex, will be converted to the numpy standard of
<cite>np.complex</cite>/<cite>np.complex128</cite>. <cite>data</cite> which is already complex will be passed
as is.</p>
<div class="system-message" id="id268">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1681); <em><a href="#id269">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
<p>To transform a real signal into a complex one use:</p>
<pre class="code python literal-block">
<span class="operator">&gt;&gt;&gt;</span> <span class="name">s</span><span class="operator">.</span><span class="name">change_dtype</span><span class="punctuation">(</span><span class="name builtin">complex</span><span class="punctuation">)</span>
</pre>
<p>Changing the <cite>dtype</cite> of a complex signal to something real is not clearly
defined and thus not directly possible. Use the <cite>real</cite>, <cite>imag</cite>, <cite>amplitude</cite>
or <cite>phase</cite> properties instead to extract the real data that is desired.</p>
<div class="section" id="calculate-the-angle-phase-argument">
<h2>Calculate the angle / phase / argument</h2>
<p>The <a href="#id270"><span class="problematic" id="id271">:py:func:`~hyperspy.signals.ComplexSignal.angle`</span></a> function can be used to
calculate the angle, which is equivalent to using the <cite>phase</cite> property if no
argument is used. If the data is real, the angle will be 0 for positive
values and 2$pi$ for negative values. If the <cite>deg</cite> parameter is set to
<cite>True</cite>, the result will be given in degrees, otherwise in rad (default). The
underlying function is the <a href="#id272"><span class="problematic" id="id273">:py:func:`~numpy.angle`</span></a> function.
<a href="#id274"><span class="problematic" id="id275">:py:func:`~hyperspy.signals.ComplexSignal.angle`</span></a> will return an appropriate
HyperSpy signal.</p>
<div class="system-message" id="id270">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1701); <em><a href="#id271">backlink</a></em></p>
Unknown interpreted text role &quot;py:func&quot;.</div>
<div class="system-message" id="id272">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1701); <em><a href="#id273">backlink</a></em></p>
Unknown interpreted text role &quot;py:func&quot;.</div>
<div class="system-message" id="id274">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1701); <em><a href="#id275">backlink</a></em></p>
Unknown interpreted text role &quot;py:func&quot;.</div>
</div>
<div class="section" id="phase-unwrapping">
<h2>Phase unwrapping</h2>
<p>With the <a href="#id276"><span class="problematic" id="id277">:py:func:`~hyperspy.signals.ComplexSignal.unwrapped_phase`</span></a> method the
complex phase of a signal can be unwrapped and returned as a new signal. The
underlying method is <a href="#id278"><span class="problematic" id="id279">:py:func:`~skimage.restoration.unwrap`</span></a>, which uses the
algorithm described in <a href="#id280"><span class="problematic" id="id281">:ref:`[Herraez] &lt;Herraez&gt;`</span></a>.</p>
<div class="system-message" id="id276">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1714); <em><a href="#id277">backlink</a></em></p>
Unknown interpreted text role &quot;py:func&quot;.</div>
<div class="system-message" id="id278">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1714); <em><a href="#id279">backlink</a></em></p>
Unknown interpreted text role &quot;py:func&quot;.</div>
<div class="system-message" id="id280">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1714); <em><a href="#id281">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</div>
<div class="section" id="add-a-linear-phase-ramp">
<h2>Add a linear phase ramp</h2>
<p>For 2-dimensional complex images, a linear phase ramp can be added to the
signal via the
<a href="#id282"><span class="problematic" id="id283">:py:func:`~._signals.complex_signal2d.Complex2Dmixin.add_phase_ramp`</span></a> method.
The parameters <cite>ramp_x</cite> and <cite>ramp_y</cite> dictate the slope of the ramp in <cite>x</cite>-
and <cite>y</cite> direction, while the offset is determined by the <cite>offset</cite> parameter.
The fulcrum of the linear ramp is at the origin and the slopes are given in
units of the axis with the according scale taken into account. Both are
available via the <a href="#id284"><span class="problematic" id="id285">:py:class:`~.axes.AxesManager`</span></a> of the signal.</p>
<div class="system-message" id="id282">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1723); <em><a href="#id283">backlink</a></em></p>
Unknown interpreted text role &quot;py:func&quot;.</div>
<div class="system-message" id="id284">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">/Users/migunov/Work_Recent/Prog/hyperspy/doc/user_guide/tools.rst</tt>, line 1723); <em><a href="#id285">backlink</a></em></p>
Unknown interpreted text role &quot;py:class&quot;.</div>
</div>
</div>
</div>
</body>
</html>
